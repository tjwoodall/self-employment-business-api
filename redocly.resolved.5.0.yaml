openapi: 3.0.3
info:
  version: '5.0'
  title: Self Employment Business (MTD)
  description: |
    The following groups of endpoints are stateful in the Sandbox:
    * [Self-Employment Annual Submission](#tag/Self-Employment-Annual-Submission)
    * [Self-Employment Period Summaries](#tag/Self-Employment-Period-Summaries)
    * [Self-Employment Cumulative Period Summary](#tag/Self-Employment-Cumulative-Period-Summary)

    # Send fraud prevention data
    HMRC monitors transactions to help protect your customers' confidential data from criminals and fraudsters. 

    <div class="govuk-warning-text warning-icon-fix">
      <span class="govuk-warning-text__icon warning-icon-ui-fix" aria-hidden="true">!</span>
      <strong class="govuk-warning-text__text">
        <span class="govuk-warning-text__assistive">Warning</span>
        You are required by law to submit header data for this API. This includes all associated APIs and endpoints.
      </strong>
    </div>

    [Check the data you need to send](/guides/fraud-prevention/). You can also use the [Test API](/api-documentation/docs/api/service/txm-fph-validator-api/1.0) during initial development and as part of your quality assurance checks.

    # Mapping APIs to Self Assessment tax return forms
    Some parameters in this API map to box numbers in one or more Self Assessment tax return forms. To learn more and to download this mapping information as a CSV file, go to [income-tax-mtd-changelog/mapping](https://github.com/hmrc/income-tax-mtd-changelog?tab=readme-ov-file#mapping-apis-to-self-assessment-tax-return-forms) on GitHub.

    # Changelog
    You can find the changelog in the [income-tax-mtd-changelog](https://github.com/hmrc/income-tax-mtd-changelog/#readme) on GitHub.

    # Support

    * Direct reports of bugs or errors in Production or Sandbox code, or queries about HMRC business functionality (such as how a specific field is used by HMRC or why it is needed) to the [Software Development Support Team (SDST)](https://developer.service.hmrc.gov.uk/developer/support).
    * Send queries or feedback related to the design of the APIs (including recommended changes) using the [income-tax-mtd-changelog](https://github.com/hmrc/income-tax-mtd-changelog/issues) GitHub page.
    * <a href="/contact/report-technical-problem?newTab=true&service=api-documentation-frontend" target="_blank">Is this page not working properly? (opens in new tab)</a>
servers:
  - url: https://test-api.service.hmrc.gov.uk
    description: Sandbox
  - url: https://api.service.hmrc.gov.uk
    description: Production
tags:
  - name: Self-Employment Annual Submission
    description: Resources relating to an individual's self-employment annual submission
  - name: Self-Employment Period Summaries
    description: Resources relating to an individual's self-employment period summaries
  - name: Self-Employment Cumulative Period Summary
    description: Resources relating to an individual's self-employment cumulative period summary
paths:
  /individuals/business/self-employment/{nino}/{businessId}/annual/{taxYear}:
    put:
      summary: Create and Amend Self-Employment Annual Submission
      security:
        - User-Restricted:
            - write:self-assessment
      description: |
        This endpoint allows a developer to create or amend a self-employment annual summary for a tax year.
        A National Insurance number, Business ID and tax year must be provided.

        ### Test data
        Scenario simulation using Gov-Test-Scenario headers is only available in the sandbox environment.

        | Header Value (Gov-Test-Scenario)     | Scenario                                                                                                                     |
        |--------------------------------------|------------------------------------------------------------------------------------------------------------------------------|
        | N/A - DEFAULT                        | Simulate success response.                                                                                                   |
        | ALLOWANCE_NOT_SUPPORTED              | Simulates the scenario where one or more of the supplied allowances is not supported for the supplied tax year.              |
        | NOT_FOUND                            | Simulates the scenario where no data is found.                                                                               |
        | STATEFUL                             | Performs a stateful create or update.                                                                                        |
        | WRONG_TPA_AMOUNT_SUBMITTED           | Simulates the scenario where the Transition Profit Acceleration Amount cannot be submitted without Transition Profit Amount. |
        | OUTSIDE_AMENDMENT_WINDOW             | Simulates the scenario where request cannot be completed as it is outside the amendment window.                              |
      tags:
        - Self-Employment Annual Submission
      parameters:
        - name: nino
          in: path
          description: |
            National Insurance number, in the format `AA999999A`
          schema: &ref_6
            type: string
            example: TC663795B
          required: true
        - name: businessId
          in: path
          description: |
            An identifier for the business, unique to the customer.<p>Must conform to the regular expression `^X[A-Z0-9]{1}IS[0-9]{11}$`
          schema: &ref_7
            type: string
            pattern: ^X[A-Z0-9]{1}IS[0-9]{11}$
            example: XAIS12345678910
          required: true
        - name: taxYear
          in: path
          description: |
            The tax year to which the data applies in the format YYYY-YY. The start year and end year must not span two tax years. The minimum tax year is 2017-18. No gaps are allowed, for example, 2022-24 is not valid.'
          schema: &ref_8
            type: string
            example: 2022-23
          required: true
        - name: Accept
          in: header
          description: |
            Specifies the response format and the version of the API to be used.
          schema: &ref_9
            type: string
            enum:
              - application/vnd.hmrc.5.0+json
          required: true
        - name: Content-Type
          in: header
          description: |
            Specifies the format of the request body, which must be JSON.
          schema: &ref_21
            type: string
            enum:
              - application/json
          required: true
        - name: Authorization
          in: header
          description: |
            An OAuth 2.0 Bearer Token with the *write:self-assessment* scope.
          schema: &ref_19
            type: string
            example: Bearer bb7fed3fe10dd235a2ccda3d50fb
          required: true
        - name: Gov-Test-Scenario
          in: header
          description: |
            Only in sandbox environment. See Test Data table for all header values.
          schema: &ref_10
            type: string
            example: '-'
          required: false
      requestBody:
        content:
          application/json:
            schema:
              oneOf:
                - $schema: http://json-schema.org/draft-04/schema#
                  title: TY 2023-24 and before
                  description: Create and Amend Self-Employment Annual Submission Request
                  type: object
                  properties:
                    adjustments:
                      type: object
                      description: Object containing the details about annual adjustments
                      properties:
                        includedNonTaxableProfits:
                          description: Income, receipts and other profits included in business income or expenses but not taxable as business profits. This value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '2000.99'
                        basisAdjustment:
                          description: If your basis period is not the same as your accounting period, enter the adjustment needed to arrive at the profit or loss for the basis period. If the adjustment needs to be taken off the profit figure, this should be negative. This value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '2000.99'
                        overlapReliefUsed:
                          description: Overlap relief used this year. This value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '2000.99'
                        accountingAdjustment:
                          description: Adjustment for change of accounting practice. This value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '2000.99'
                        averagingAdjustment:
                          description: Averaging adjustment (only for farmers, market gardeners and creators of literary or artistic works) – if the adjustment needs to be taken off the profit figure, this should be negative. This value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '2000.99'
                        outstandingBusinessIncome:
                          description: Any other business income not included in other fields. This value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '2000.99'
                        balancingChargeBpra:
                          description: Balancing charge on sale or cessation of business use (only where Business Premises Renovation Allowance has been claimed). This value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '2000.99'
                        balancingChargeOther:
                          description: Balancing charge on sale or cessation of business use (where you have disposed of assets for more than their tax value). This value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '2000.99'
                        goodsAndServicesOwnUse:
                          description: Value of the normal sale price of goods or stock have been taken out of the business. This value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '2000.99'
                    allowances:
                      type: object
                      description: Object containing the details about annual allowances
                      properties:
                        annualInvestmentAllowance:
                          description: Annual investment allowance on items that qualify up to the AIA amount. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '2000.99'
                        capitalAllowanceMainPool:
                          description: Capital allowances on equipment, including cars with lower CO2 emissions. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          multipleOf: 0.01
                          minimum: 0
                          maximum: 99999999999.99
                          example: 2000.99
                        capitalAllowanceSpecialRatePool:
                          description: Capital allowances on equipment at the special rate, including cars with higher CO2 emissions. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          multipleOf: 0.01
                          minimum: 0
                          maximum: 99999999999.99
                          example: 2000.99
                        zeroEmissionsGoodsVehicleAllowance:
                          description: Zero emissions goods vehicle allowance for goods vehicles purchased for business use. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '2000.99'
                        businessPremisesRenovationAllowance:
                          description: Business Premises Renovation Allowance if converting or renovating unused qualifying business premises. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '1000.45'
                        enhancedCapitalAllowance:
                          description: Other enhanced capital allowances. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '1000.45'
                        allowanceOnSales:
                          description: Allowances on sale or cessation of business use (where you have disposed of assets for less than their tax value). The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '1000.45'
                        capitalAllowanceSingleAssetPool:
                          description: Claim to capital allowances in respect of all single asset pools. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '500.25'
                        electricChargePointAllowance:
                          description: The expenditure incurred on electric charge-point equipment. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '1000.45'
                        zeroEmissionsCarAllowance:
                          description: The amount of zero emissions car allowance. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '5000.99'
                        tradingIncomeAllowance:
                          description: The amount of trading allowance (can not be supplied with any other allowances). The value must be between 0 and 1000 up to 2 decimal places.
                          type: number
                          example: '500.99'
                        structuredBuildingAllowance:
                          type: array
                          description: Details about structured building allowance
                          items:
                            type: object
                            properties:
                              amount:
                                description: The amount of structured building allowance. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                                type: number
                                example: '5000.99'
                              firstYear:
                                type: object
                                description: Object containing the details about structured building allowance
                                properties:
                                  qualifyingDate:
                                    description: The date qualified for structured building allowance. Must conform to the format YYYY-MM-DD.
                                    type: string
                                    example: '2020-01-01'
                                  qualifyingAmountExpenditure:
                                    description: The amount of qualifying expenditure. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                                    type: number
                                    example: '5000.99'
                                required:
                                  - qualifyingDate
                                  - qualifyingAmountExpenditure
                              building:
                                type: object
                                description: |-
                                  Object holding structured building details.
                                  Postcode is mandatory and minimum one of name and number field must be supplied
                                properties:
                                  name:
                                    description: The name of the building.
                                    type: string
                                    pattern: ^[0-9a-zA-Z{À-˿’}\- _&`():.'^]{1,90}$
                                    example: Green Oak’s
                                  number:
                                    description: The number of the building.
                                    type: string
                                    pattern: ^[0-9a-zA-Z{À-˿’}\- _&`():.'^]{1,90}$
                                    example: 16D
                                  postcode:
                                    description: The postcode for the building.
                                    type: string
                                    pattern: ^[0-9a-zA-Z{À-˿’}\- _&`():.'^]{1,90}$
                                    example: SW1A 2AA
                                required:
                                  - postcode
                            required:
                              - amount
                              - building
                        enhancedStructuredBuildingAllowance:
                          type: array
                          description: Details about enhanced structured building allowance
                          items:
                            type: object
                            properties:
                              amount:
                                description: The amount of enhanced structured building allowance. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                                type: number
                                example: '5000.99'
                              firstYear:
                                type: object
                                description: Object containing the details about enhanced structured building allowance
                                properties:
                                  qualifyingDate:
                                    description: The date qualified for enhanced structured building allowance. Must conform to the format YYYY-MM-DD.
                                    type: string
                                    example: '2020-01-01'
                                  qualifyingAmountExpenditure:
                                    description: The amount of qualifying expenditure. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                                    type: number
                                    example: '5000.99'
                                required:
                                  - qualifyingDate
                                  - qualifyingAmountExpenditure
                              building:
                                type: object
                                description: Object holding enhanced structured building details. Postcode is mandatory and minimum one of name and number field must be supplied
                                properties:
                                  name:
                                    description: The name of the building.
                                    type: string
                                    pattern: ^[0-9a-zA-Z{À-˿’}\- _&`():.'^]{1,90}$
                                    example: Green Oak’s
                                  number:
                                    description: The number of the building.
                                    type: string
                                    pattern: ^[0-9a-zA-Z{À-˿’}\- _&`():.'^]{1,90}$
                                    example: 16D
                                  postcode:
                                    description: The postcode for the building.
                                    type: string
                                    pattern: ^[0-9a-zA-Z{À-˿’}\- _&`():.'^]{1,90}$
                                    example: SW1A 2AA
                                required:
                                  - postcode
                            required:
                              - amount
                              - building
                    nonFinancials:
                      type: object
                      description: Object containing details about annual non financials
                      properties:
                        businessDetailsChangedRecently:
                          description: A boolean to identify if business details have recently changed. The value must be true or false.
                          type: boolean
                          example: 'false'
                        class4NicsExemptionReason:
                          description: If exempt from paying Class 4 National Insurance, the reason for exemption.
                          type: string
                          enum:
                            - non-resident
                            - trustee
                            - diver
                            - ITTOIA-2005
                            - over-state-pension-age
                            - under-16
                          example: non-resident
                      required:
                        - businessDetailsChangedRecently
                - $schema: http://json-schema.org/draft-04/schema#
                  title: TY 2024-25
                  description: Create and Amend Self-Employment Annual Submission Request
                  type: object
                  properties:
                    adjustments:
                      type: object
                      description: Object containing the details about annual adjustments
                      properties:
                        includedNonTaxableProfits:
                          description: Income, receipts and other profits included in business income or expenses but not taxable as business profits. This value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '2000.99'
                        basisAdjustment:
                          description: If your basis period is not the same as your accounting period, enter the adjustment needed to arrive at the profit or loss for the basis period. If the adjustment needs to be taken off the profit figure, this should be negative. This value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '2000.99'
                        overlapReliefUsed:
                          description: Overlap relief used this year. This value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '2000.99'
                        accountingAdjustment:
                          description: Adjustment for change of accounting practice. This value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '2000.99'
                        averagingAdjustment:
                          description: Averaging adjustment (only for farmers, market gardeners and creators of literary or artistic works) – if the adjustment needs to be taken off the profit figure, this should be negative. This value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '2000.99'
                        outstandingBusinessIncome:
                          description: Any other business income not included in other fields. This value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '2000.99'
                        balancingChargeBpra:
                          description: Balancing charge on sale or cessation of business use (only where Business Premises Renovation Allowance has been claimed). This value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '2000.99'
                        balancingChargeOther:
                          description: Balancing charge on sale or cessation of business use (where you have disposed of assets for more than their tax value). This value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '2000.99'
                        goodsAndServicesOwnUse:
                          description: Value of the normal sale price of goods or stock have been taken out of the business. This value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '2000.99'
                        transitionProfitAmount:
                          description: Amount of transition profit arising in this tax year for this income source. This value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '2000.99'
                        transitionProfitAccelerationAmount:
                          description: Additional amount of transition profit elected to be treated as arising in this tax year for this income source. This value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '2000.99'
                    allowances:
                      type: object
                      description: Object containing the details about annual allowances
                      properties:
                        annualInvestmentAllowance:
                          description: Annual investment allowance on items that qualify up to the AIA amount. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '2000.99'
                        capitalAllowanceMainPool:
                          description: Capital allowances on equipment, including cars with lower CO2 emissions. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          multipleOf: 0.01
                          minimum: 0
                          maximum: 99999999999.99
                          example: 2000.99
                        capitalAllowanceSpecialRatePool:
                          description: Capital allowances on equipment at the special rate, including cars with higher CO2 emissions. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          multipleOf: 0.01
                          minimum: 0
                          maximum: 99999999999.99
                          example: 2000.99
                        zeroEmissionsGoodsVehicleAllowance:
                          description: Zero emissions goods vehicle allowance for goods vehicles purchased for business use. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '2000.99'
                        businessPremisesRenovationAllowance:
                          description: Business Premises Renovation Allowance if converting or renovating unused qualifying business premises. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '1000.45'
                        enhancedCapitalAllowance:
                          description: Other enhanced capital allowances. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '1000.45'
                        allowanceOnSales:
                          description: Allowances on sale or cessation of business use (where you have disposed of assets for less than their tax value). The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '1000.45'
                        capitalAllowanceSingleAssetPool:
                          description: Claim to capital allowances in respect of all single asset pools. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '500.25'
                        electricChargePointAllowance:
                          description: The expenditure incurred on electric charge-point equipment. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '1000.45'
                        zeroEmissionsCarAllowance:
                          description: The amount of zero emissions car allowance. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '5000.99'
                        tradingIncomeAllowance:
                          description: The amount of trading allowance (can not be supplied with any other allowances). The value must be between 0 and 1000 up to 2 decimal places.
                          type: number
                          example: '500.99'
                        structuredBuildingAllowance:
                          type: array
                          description: Details about structured building allowance
                          items:
                            type: object
                            properties:
                              amount:
                                description: The amount of structured building allowance. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                                type: number
                                example: '5000.99'
                              firstYear:
                                type: object
                                description: Object containing the details about structured building allowance
                                properties:
                                  qualifyingDate:
                                    description: The date qualified for structured building allowance. Must conform to the format YYYY-MM-DD.
                                    type: string
                                    example: '2020-01-01'
                                  qualifyingAmountExpenditure:
                                    description: The amount of qualifying expenditure. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                                    type: number
                                    example: '5000.99'
                                required:
                                  - qualifyingDate
                                  - qualifyingAmountExpenditure
                              building:
                                type: object
                                description: |-
                                  Object holding structured building details.
                                  Postcode is mandatory and minimum one of name and number field must be supplied
                                properties:
                                  name:
                                    description: The name of the building.
                                    type: string
                                    pattern: ^[0-9a-zA-Z{À-˿’}\- _&`():.'^]{1,90}$
                                    example: Green Oak’s
                                  number:
                                    description: The number of the building.
                                    type: string
                                    pattern: ^[0-9a-zA-Z{À-˿’}\- _&`():.'^]{1,90}$
                                    example: 16D
                                  postcode:
                                    description: The postcode for the building.
                                    type: string
                                    pattern: ^[0-9a-zA-Z{À-˿’}\- _&`():.'^]{1,90}$
                                    example: SW1A 2AA
                                required:
                                  - postcode
                            required:
                              - amount
                              - building
                        enhancedStructuredBuildingAllowance:
                          type: array
                          description: Details about enhanced structured building allowance
                          items:
                            type: object
                            properties:
                              amount:
                                description: The amount of enhanced structured building allowance. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                                type: number
                                example: '5000.99'
                              firstYear:
                                type: object
                                description: Object containing the details about enhanced structured building allowance
                                properties:
                                  qualifyingDate:
                                    description: The date qualified for enhanced structured building allowance. Must conform to the format YYYY-MM-DD.
                                    type: string
                                    example: '2020-01-01'
                                  qualifyingAmountExpenditure:
                                    description: The amount of qualifying expenditure. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                                    type: number
                                    example: '5000.99'
                                required:
                                  - qualifyingDate
                                  - qualifyingAmountExpenditure
                              building:
                                type: object
                                description: Object holding enhanced structured building details. Postcode is mandatory and minimum one of name and number field must be supplied
                                properties:
                                  name:
                                    description: The name of the building.
                                    type: string
                                    pattern: ^[0-9a-zA-Z{À-˿’}\- _&`():.'^]{1,90}$
                                    example: Green Oak’s
                                  number:
                                    description: The number of the building.
                                    type: string
                                    pattern: ^[0-9a-zA-Z{À-˿’}\- _&`():.'^]{1,90}$
                                    example: 16D
                                  postcode:
                                    description: The postcode for the building.
                                    type: string
                                    pattern: ^[0-9a-zA-Z{À-˿’}\- _&`():.'^]{1,90}$
                                    example: SW1A 2AA
                                required:
                                  - postcode
                            required:
                              - amount
                              - building
                    nonFinancials:
                      type: object
                      description: Object containing details about annual non financials
                      properties:
                        businessDetailsChangedRecently:
                          description: A boolean to identify if business details have recently changed. The value must be true or false.
                          type: boolean
                          example: 'false'
                        class4NicsExemptionReason:
                          description: If exempt from paying Class 4 National Insurance, the reason for exemption.
                          type: string
                          enum:
                            - non-resident
                            - trustee
                            - diver
                            - ITTOIA-2005
                            - over-state-pension-age
                            - under-16
                          example: non-resident
                      required:
                        - businessDetailsChangedRecently
                - $schema: http://json-schema.org/draft-04/schema#
                  title: TY 2025-26 or later
                  description: Create and Amend Self-Employment Annual Submission Request
                  type: object
                  properties:
                    adjustments:
                      type: object
                      description: Object containing the details about annual adjustments
                      properties:
                        includedNonTaxableProfits:
                          description: Income, receipts and other profits included in business income or expenses but not taxable as business profits. This value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '2000.99'
                        basisAdjustment:
                          description: If your basis period is not the same as your accounting period, enter the adjustment needed to arrive at the profit or loss for the basis period. If the adjustment needs to be taken off the profit figure, this should be negative. This value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '2000.99'
                        overlapReliefUsed:
                          description: Overlap relief used this year. This value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '2000.99'
                        accountingAdjustment:
                          description: Adjustment for change of accounting practice. This value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '2000.99'
                        averagingAdjustment:
                          description: Averaging adjustment (only for farmers, market gardeners and creators of literary or artistic works) – if the adjustment needs to be taken off the profit figure, this should be negative. This value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '2000.99'
                        outstandingBusinessIncome:
                          description: Any other business income not included in other fields. This value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '2000.99'
                        balancingChargeBpra:
                          description: Balancing charge on sale or cessation of business use (only where Business Premises Renovation Allowance has been claimed). This value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '2000.99'
                        balancingChargeOther:
                          description: Balancing charge on sale or cessation of business use (where you have disposed of assets for more than their tax value). This value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '2000.99'
                        goodsAndServicesOwnUse:
                          description: Value of the normal sale price of goods or stock have been taken out of the business. This value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '2000.99'
                        transitionProfitAmount:
                          description: Amount of transition profit arising in this tax year for this income source. This value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '2000.99'
                        transitionProfitAccelerationAmount:
                          description: Additional amount of transition profit elected to be treated as arising in this tax year for this income source. This value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '2000.99'
                    allowances:
                      type: object
                      description: Object containing the details about annual allowances
                      properties:
                        annualInvestmentAllowance:
                          description: Annual investment allowance on items that qualify up to the AIA amount. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '2000.99'
                        capitalAllowanceMainPool:
                          description: Capital allowances on equipment, including cars with lower CO2 emissions. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          multipleOf: 0.01
                          minimum: 0
                          maximum: 99999999999.99
                          example: 2000.99
                        capitalAllowanceSpecialRatePool:
                          description: Capital allowances on equipment at the special rate, including cars with higher CO2 emissions. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          multipleOf: 0.01
                          minimum: 0
                          maximum: 99999999999.99
                          example: 2000.99
                        businessPremisesRenovationAllowance:
                          description: Business Premises Renovation Allowance if converting or renovating unused qualifying business premises. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '1000.45'
                        enhancedCapitalAllowance:
                          description: Other enhanced capital allowances. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '1000.45'
                        allowanceOnSales:
                          description: Allowances on sale or cessation of business use (where you have disposed of assets for less than their tax value). The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '1000.45'
                        capitalAllowanceSingleAssetPool:
                          description: Claim to capital allowances in respect of all single asset pools. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '500.25'
                        zeroEmissionsCarAllowance:
                          description: The amount of zero emissions car allowance. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '5000.99'
                        tradingIncomeAllowance:
                          description: The amount of trading allowance (can not be supplied with any other allowances). The value must be between 0 and 1000 up to 2 decimal places.
                          type: number
                          example: '500.99'
                        structuredBuildingAllowance:
                          type: array
                          description: Details about structured building allowance
                          items:
                            type: object
                            properties:
                              amount:
                                description: The amount of structured building allowance. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                                type: number
                                example: '5000.99'
                              firstYear:
                                type: object
                                description: Object containing the details about structured building allowance
                                properties:
                                  qualifyingDate:
                                    description: The date qualified for structured building allowance. Must conform to the format YYYY-MM-DD.
                                    type: string
                                    example: '2020-01-01'
                                  qualifyingAmountExpenditure:
                                    description: The amount of qualifying expenditure. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                                    type: number
                                    example: '5000.99'
                                required:
                                  - qualifyingDate
                                  - qualifyingAmountExpenditure
                              building:
                                type: object
                                description: |-
                                  Object holding structured building details.
                                  Postcode is mandatory and minimum one of name and number field must be supplied
                                properties:
                                  name:
                                    description: The name of the building.
                                    type: string
                                    pattern: ^[0-9a-zA-Z{À-˿’}\- _&`():.'^]{1,90}$
                                    example: Green Oak’s
                                  number:
                                    description: The number of the building.
                                    type: string
                                    pattern: ^[0-9a-zA-Z{À-˿’}\- _&`():.'^]{1,90}$
                                    example: 16D
                                  postcode:
                                    description: The postcode for the building.
                                    type: string
                                    pattern: ^[0-9a-zA-Z{À-˿’}\- _&`():.'^]{1,90}$
                                    example: SW1A 2AA
                                required:
                                  - postcode
                            required:
                              - amount
                              - building
                        enhancedStructuredBuildingAllowance:
                          type: array
                          description: Details about enhanced structured building allowance
                          items:
                            type: object
                            properties:
                              amount:
                                description: The amount of enhanced structured building allowance. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                                type: number
                                example: '5000.99'
                              firstYear:
                                type: object
                                description: Object containing the details about enhanced structured building allowance
                                properties:
                                  qualifyingDate:
                                    description: The date qualified for enhanced structured building allowance. Must conform to the format YYYY-MM-DD.
                                    type: string
                                    example: '2020-01-01'
                                  qualifyingAmountExpenditure:
                                    description: The amount of qualifying expenditure. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                                    type: number
                                    example: '5000.99'
                                required:
                                  - qualifyingDate
                                  - qualifyingAmountExpenditure
                              building:
                                type: object
                                description: Object holding enhanced structured building details. Postcode is mandatory and minimum one of name and number field must be supplied
                                properties:
                                  name:
                                    description: The name of the building.
                                    type: string
                                    pattern: ^[0-9a-zA-Z{À-˿’}\- _&`():.'^]{1,90}$
                                    example: Green Oak’s
                                  number:
                                    description: The number of the building.
                                    type: string
                                    pattern: ^[0-9a-zA-Z{À-˿’}\- _&`():.'^]{1,90}$
                                    example: 16D
                                  postcode:
                                    description: The postcode for the building.
                                    type: string
                                    pattern: ^[0-9a-zA-Z{À-˿’}\- _&`():.'^]{1,90}$
                                    example: SW1A 2AA
                                required:
                                  - postcode
                            required:
                              - amount
                              - building
                    nonFinancials:
                      type: object
                      description: Object containing details about annual non financials
                      properties:
                        businessDetailsChangedRecently:
                          description: A boolean to identify if business details have recently changed. The value must be true or false.
                          type: boolean
                          example: 'false'
                        class4NicsExemptionReason:
                          description: If exempt from paying Class 4 National Insurance, the reason for exemption.
                          type: string
                          enum:
                            - non-resident
                            - trustee
                            - diver
                            - ITTOIA-2005
                            - over-state-pension-age
                            - under-16
                          example: non-resident
                      required:
                        - businessDetailsChangedRecently
            examples:
              With trading allowance request for TY 2023-24 and before:
                value:
                  adjustments:
                    includedNonTaxableProfits: 200.12
                    basisAdjustment: 200.12
                    overlapReliefUsed: 200.12
                    accountingAdjustment: 200.12
                    averagingAdjustment: -200.12
                    outstandingBusinessIncome: 200.12
                    balancingChargeBpra: 200.12
                    balancingChargeOther: 200.12
                    goodsAndServicesOwnUse: 200.12
                  allowances:
                    tradingIncomeAllowance: 1000
                  nonFinancials:
                    businessDetailsChangedRecently: true
                    class4NicsExemptionReason: non-resident
              Without trading allowance request for TY 2023-24 and before:
                value:
                  adjustments:
                    includedNonTaxableProfits: 200.12
                    basisAdjustment: 200.12
                    overlapReliefUsed: 200.12
                    accountingAdjustment: 200.12
                    averagingAdjustment: -200.12
                    outstandingBusinessIncome: 200.12
                    balancingChargeBpra: 200.12
                    balancingChargeOther: 200.12
                    goodsAndServicesOwnUse: 200.12
                  allowances:
                    annualInvestmentAllowance: 200.12
                    capitalAllowanceMainPool: 200.12
                    capitalAllowanceSpecialRatePool: 200.12
                    zeroEmissionsGoodsVehicleAllowance: 200.12
                    businessPremisesRenovationAllowance: 200.12
                    enhancedCapitalAllowance: 200.12
                    allowanceOnSales: 200.12
                    capitalAllowanceSingleAssetPool: 200.12
                    electricChargePointAllowance: 200.12
                    zeroEmissionsCarAllowance: 200.12
                    structuredBuildingAllowance:
                      - amount: 1.23
                        firstYear:
                          qualifyingDate: '2021-11-11'
                          qualifyingAmountExpenditure: 1.23
                        building:
                          name: Plaza 2
                          postcode: TF3 4NT
                    enhancedStructuredBuildingAllowance:
                      - amount: 1.23
                        firstYear:
                          qualifyingDate: '2021-11-11'
                          qualifyingAmountExpenditure: 1.23
                        building:
                          name: Plaza 2
                          postcode: TF3 4NT
                  nonFinancials:
                    businessDetailsChangedRecently: true
              With trading allowance request for TY 2024-25:
                value:
                  adjustments:
                    includedNonTaxableProfits: 200.12
                    basisAdjustment: 200.12
                    overlapReliefUsed: 200.12
                    accountingAdjustment: 200.12
                    averagingAdjustment: -200.12
                    outstandingBusinessIncome: 200.12
                    balancingChargeBpra: 200.12
                    balancingChargeOther: 200.12
                    goodsAndServicesOwnUse: 200.12
                    transitionProfitAmount: 200.12
                    transitionProfitAccelerationAmount: 200.12
                  allowances:
                    tradingIncomeAllowance: 1000
                  nonFinancials:
                    businessDetailsChangedRecently: true
                    class4NicsExemptionReason: non-resident
              Without trading allowance request for TY 2024-25:
                value:
                  adjustments:
                    includedNonTaxableProfits: 200.12
                    basisAdjustment: 200.12
                    overlapReliefUsed: 200.12
                    accountingAdjustment: 200.12
                    averagingAdjustment: -200.12
                    outstandingBusinessIncome: 200.12
                    balancingChargeBpra: 200.12
                    balancingChargeOther: 200.12
                    goodsAndServicesOwnUse: 200.12
                    transitionProfitAmount: 200.12
                    transitionProfitAccelerationAmount: 200.12
                  allowances:
                    annualInvestmentAllowance: 200.12
                    capitalAllowanceMainPool: 200.12
                    capitalAllowanceSpecialRatePool: 200.12
                    zeroEmissionsGoodsVehicleAllowance: 200.12
                    businessPremisesRenovationAllowance: 200.12
                    enhancedCapitalAllowance: 200.12
                    allowanceOnSales: 200.12
                    capitalAllowanceSingleAssetPool: 200.12
                    electricChargePointAllowance: 200.12
                    zeroEmissionsCarAllowance: 200.12
                    structuredBuildingAllowance:
                      - amount: 1.23
                        firstYear:
                          qualifyingDate: '2021-11-11'
                          qualifyingAmountExpenditure: 1.23
                        building:
                          name: Plaza 2
                          postcode: TF3 4NT
                    enhancedStructuredBuildingAllowance:
                      - amount: 1.23
                        firstYear:
                          qualifyingDate: '2021-11-11'
                          qualifyingAmountExpenditure: 1.23
                        building:
                          name: Plaza 2
                          postcode: TF3 4NT
                  nonFinancials:
                    businessDetailsChangedRecently: true
              With trading allowance request for TY 2025-26 onwards:
                value:
                  adjustments:
                    includedNonTaxableProfits: 200.12
                    basisAdjustment: 200.12
                    overlapReliefUsed: 200.12
                    accountingAdjustment: 200.12
                    averagingAdjustment: -200.12
                    outstandingBusinessIncome: 200.12
                    balancingChargeBpra: 200.12
                    balancingChargeOther: 200.12
                    goodsAndServicesOwnUse: 200.12
                    transitionProfitAmount: 200.12
                    transitionProfitAccelerationAmount: 200.12
                  allowances:
                    tradingIncomeAllowance: 1000
                  nonFinancials:
                    businessDetailsChangedRecently: true
                    class4NicsExemptionReason: non-resident
              Without trading allowance request for TY 2025-26 onwards:
                value:
                  adjustments:
                    includedNonTaxableProfits: 200.12
                    basisAdjustment: 200.12
                    overlapReliefUsed: 200.12
                    accountingAdjustment: 200.12
                    averagingAdjustment: -200.12
                    outstandingBusinessIncome: 200.12
                    balancingChargeBpra: 200.12
                    balancingChargeOther: 200.12
                    goodsAndServicesOwnUse: 200.12
                    transitionProfitAmount: 200.12
                    transitionProfitAccelerationAmount: 200.12
                  allowances:
                    annualInvestmentAllowance: 200.12
                    capitalAllowanceMainPool: 200.12
                    capitalAllowanceSpecialRatePool: 200.12
                    businessPremisesRenovationAllowance: 200.12
                    enhancedCapitalAllowance: 200.12
                    allowanceOnSales: 200.12
                    capitalAllowanceSingleAssetPool: 200.12
                    zeroEmissionsCarAllowance: 200.12
                    structuredBuildingAllowance:
                      - amount: 1.23
                        firstYear:
                          qualifyingDate: '2021-11-11'
                          qualifyingAmountExpenditure: 1.23
                        building:
                          name: Plaza 2
                          postcode: TF3 4NT
                    enhancedStructuredBuildingAllowance:
                      - amount: 1.23
                        firstYear:
                          qualifyingDate: '2021-11-11'
                          qualifyingAmountExpenditure: 1.23
                        building:
                          name: Plaza 2
                          postcode: TF3 4NT
                  nonFinancials:
                    businessDetailsChangedRecently: true
      responses:
        '204':
          description: Success (No Content)
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: &ref_0
                type: string
                example: c75f40a6-a3df-4429-a697-471eeec46435
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: &ref_1
                type: string
                example: Sun, 01 Jan 2023 23:59:59 UTC
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: &ref_2
                type: string
                example: Sun, 02 Jul 2023 23:59:59 UTC
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: &ref_3
                type: string
                example: https://developer.service.hmrc.gov.uk/api-documentation/docs/api/service/self-employment-business-api
              required: false
        '400':
          description: Bad request
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: &ref_4
                  code:
                    description: The error code
                    type: string
                  message:
                    description: The error message
                    type: string
                required: &ref_5
                  - code
              examples:
                FORMAT_NINO:
                  description: The format of the supplied NINO field is not valid.
                  value: &ref_11
                    code: FORMAT_NINO
                    message: The NINO format is invalid
                FORMAT_TAX_YEAR:
                  description: The format of the supplied taxYear field is not valid.
                  value: &ref_12
                    code: FORMAT_TAX_YEAR
                    message: The taxYear format is invalid
                FORMAT_VALUE:
                  description: One or more values have been added with the incorrect format.
                  value: &ref_24
                    code: FORMAT_VALUE
                    message: The value must be between 0 and 99999999999.99
                FORMAT_BUSINESS_ID:
                  description: The format of the supplied Business ID field is not valid.
                  value: &ref_13
                    code: FORMAT_BUSINESS_ID
                    message: The Business ID format is invalid
                FORMAT_STRING:
                  description: One or more strings have been added with the incorrect format.
                  value:
                    code: FORMAT_STRING
                    message: The supplied string format is not valid
                FORMAT_DATE:
                  description: The supplied date format is not valid.
                  value:
                    code: FORMAT_DATE
                    message: The supplied date format is not valid
                FORMAT_CLASS_4_EXEMPTION_REASON:
                  description: The format of the supplied Class 4 National Insurance exemption reason is not valid.
                  value:
                    code: FORMAT_CLASS_4_EXEMPTION_REASON
                    message: The format of the supplied Class 4 National Insurance exemption reason is not valid
                RULE_INCORRECT_OR_EMPTY_BODY_SUBMITTED:
                  description: An empty or non-matching body was submitted.
                  value: &ref_25
                    code: RULE_INCORRECT_OR_EMPTY_BODY_SUBMITTED
                    message: An empty or non-matching body was submitted
                RULE_TAX_YEAR_NOT_SUPPORTED:
                  description: |
                    The specified tax year is not supported.
                    Either the tax year specified is before the minimum tax year value,
                    or it is after the maximum tax year value.
                  value: &ref_14
                    code: RULE_TAX_YEAR_NOT_SUPPORTED
                    message: The tax year specified does not lie within the supported range
                RULE_TAX_YEAR_RANGE_INVALID:
                  description: Tax year range invalid. A tax year range of one year is required.
                  value: &ref_15
                    code: RULE_TAX_YEAR_RANGE_INVALID
                    message: A tax year range of one year is required
                RULE_BUILDING_NAME_NUMBER:
                  description: One of building name or number must be supplied.
                  value:
                    code: RULE_BUILDING_NAME_NUMBER
                    message: Postcode must be supplied along with at least one of name or number
                RULE_BOTH_ALLOWANCES_SUPPLIED:
                  description: Both allowances and trading allowance must not be present at the same time.
                  value:
                    code: RULE_BOTH_ALLOWANCES_SUPPLIED
                    message: Both allowances and trading allowances must not be present at the same time
                RULE_ALLOWANCE_NOT_SUPPORTED:
                  description: One or more of the supplied allowances is not supported for the supplied tax year.
                  value:
                    code: RULE_ALLOWANCE_NOT_SUPPORTED
                    message: One or more of supplied allowances (electricChargePointAllowance, zeroEmissionsCarAllowance, structuredBuildingAllowance, enhancedStructuredBuildingAllowance) is not supported for the supplied tax year
                RULE_INCORRECT_GOV_TEST_SCENARIO:
                  description: The request did not match any available Sandbox data. Check that the supplied Gov-Test-Scenario is correct for this endpoint version. This error will only be returned in the Sandbox environment.
                  value: &ref_16
                    code: RULE_INCORRECT_GOV_TEST_SCENARIO
                    message: The supplied Gov-Test-Scenario is not valid
                RULE_WRONG_TPA_AMOUNT_SUBMITTED:
                  description: Transition profit acceleration value cannot be submitted without a transition profit value.
                  value:
                    code: RULE_WRONG_TPA_AMOUNT_SUBMITTED
                    message: Transition profit acceleration value cannot be submitted without a transition profit value
                RULE_OUTSIDE_AMENDMENT_WINDOW:
                  description: Request cannot be completed as you are outside the amendment window.
                  value: &ref_20
                    code: RULE_OUTSIDE_AMENDMENT_WINDOW
                    message: You are outside the amendment window
        '403':
          description: Forbidden
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                CLIENT_OR_AGENT_NOT_AUTHORISED:
                  description: |
                    The client and/or agent is not authorised. This is normally because: the client is not subscribed to MTD, the agent is not subscribed to Agent Services, or the client has not authorised the agent to act on their behalf.
                  value: &ref_17
                    code: CLIENT_OR_AGENT_NOT_AUTHORISED
                    message: The client or agent is not authorised
        '404':
          description: Not Found
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                MATCHING_RESOURCE_NOT_FOUND:
                  description: |
                    The supplied income source could not be found.
                  value: &ref_18
                    code: MATCHING_RESOURCE_NOT_FOUND
                    message: Matching resource not found
    get:
      summary: Retrieve a Self-Employment Annual Submission
      security:
        - User-Restricted:
            - read:self-assessment
      description: |
        This endpoint allows a developer to retrieve a self-employment annual submission for a tax year.
        A National Insurance number, Business ID and tax year must be provided.

        ### Test data
        Scenario simulation using Gov-Test-Scenario headers is only available in the sandbox environment.

        | Header Value (Gov-Test-Scenario)     | Scenario                                                     |
        |--------------------------------------|--------------------------------------------------------------|
        | N/A - DEFAULT                        | Simulate success response.                                   |
        | TRADING_ALLOWANCE                    | Simulates success response with trading allowance instead.   |
        | NOT_FOUND                            | Simulates the scenario where no data is found.               |
        | STATEFUL                             | Performs a stateful retrieve.                                |
      tags:
        - Self-Employment Annual Submission
      parameters:
        - name: nino
          in: path
          description: |
            National Insurance number, in the format `AA999999A`
          schema: *ref_6
          required: true
        - name: businessId
          in: path
          description: |
            An identifier for the business, unique to the customer.<p>Must conform to the regular expression `^X[A-Z0-9]{1}IS[0-9]{11}$`
          schema: *ref_7
          required: true
        - name: taxYear
          in: path
          description: |
            The tax year to which the data applies in the format YYYY-YY. The start year and end year must not span two tax years. The minimum tax year is 2017-18. No gaps are allowed, for example, 2022-24 is not valid.'
          schema: *ref_8
          required: true
        - name: Accept
          in: header
          description: |
            Specifies the response format and the version of the API to be used.
          schema: *ref_9
          required: true
        - name: Authorization
          in: header
          description: |
            An OAuth 2.0 Bearer Token with the *read:self-assessment* scope.
          schema: &ref_26
            type: string
            example: Bearer bb7fed3fe10dd235a2ccda3d50fb
          required: true
        - name: Gov-Test-Scenario
          in: header
          description: |
            Only in sandbox environment. See Test Data table for all header values.
          schema: *ref_10
          required: false
      responses:
        '200':
          description: Success
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                oneOf:
                  - $schema: http://json-schema.org/draft-04/schema#
                    title: TY 2023-24 or before
                    description: Retrieves a self-employment annual summary for a tax year.
                    type: object
                    properties:
                      adjustments:
                        type: object
                        description: Object containing the details about annual adjustments
                        properties:
                          includedNonTaxableProfits:
                            description: Income, receipts and other profits included in business income or expenses but not taxable as business profits. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          basisAdjustment:
                            description: If your basis period is not the same as your accounting period, enter the adjustment needed to arrive at the profit or loss for the basis period. If the adjustment needs to be taken off the profit figure, this should be negative. Between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          overlapReliefUsed:
                            description: Overlap relief used this year. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          accountingAdjustment:
                            description: Adjustment for change of accounting practice. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          averagingAdjustment:
                            description: Averaging adjustment (only for farmers, market gardeners and creators of literary or artistic works) – if the adjustment needs to be taken off the profit figure, this should be negative. This value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          outstandingBusinessIncome:
                            description: Any other business income not included in other fields. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          balancingChargeBpra:
                            description: Balancing charge on sale or cessation of business use (only where Business Premises Renovation Allowance has been claimed). The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          balancingChargeOther:
                            description: Balancing charge on sale or cessation of business use (where you have disposed of assets for more than their tax value). The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          goodsAndServicesOwnUse:
                            description: Value of the normal sale price of goods or stock have been taken out of the business. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                        additionalProperties: false
                      allowances:
                        type: object
                        description: Object containing the details about annual allowances
                        properties:
                          annualInvestmentAllowance:
                            description: Annual investment allowance on items that qualify up to the AIA amount. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          capitalAllowanceMainPool:
                            description: Capital allowances on equipment, including cars with lower CO2 emissions. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            multipleOf: 0.01
                            minimum: 0
                            maximum: 99999999999.99
                            example: 2000.99
                          capitalAllowanceSpecialRatePool:
                            description: Capital allowances on equipment at the special rate, including cars with higher CO2 emissions. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            multipleOf: 0.01
                            minimum: 0
                            maximum: 99999999999.99
                            example: 2000.99
                          zeroEmissionsGoodsVehicleAllowance:
                            description: |-
                              Zero emissions goods vehicle allowance for goods vehicles purchased for business use.

                              The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          businessPremisesRenovationAllowance:
                            description: Business Premises Renovation Allowance if converting or renovating unused qualifying business premises. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          enhancedCapitalAllowance:
                            description: |-
                              Other enhanced capital allowances.

                              The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          allowanceOnSales:
                            description: Allowances on sale or cessation of business use (where you have disposed of assets for less than their tax value). The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          capitalAllowanceSingleAssetPool:
                            description: Claim to capital allowances in respect of all single asset pools. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          electricChargePointAllowance:
                            description: The expenditure incurred on electric charge-point equipment. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          zeroEmissionsCarAllowance:
                            description: The amount of zero emissions car allowance. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          tradingIncomeAllowance:
                            description: The amount of trading allowance (can not be supplied with any other allowances). The value must be between 0 and 1000.00 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          structuredBuildingAllowance:
                            type: array
                            description: Details about structured building allowance
                            items:
                              type: object
                              properties:
                                amount:
                                  description: |-
                                    The amount of structured building allowance.

                                    The value must be between 0 and 99999999999.99 up to 2 decimal places.
                                  type: number
                                  example: '2000.99'
                                firstYear:
                                  type: object
                                  description: Object containing the details about structured building allowance
                                  properties:
                                    qualifyingDate:
                                      description: The date qualified for structured building allowance. Must conform to the format YYYY-MM-DD.
                                      type: string
                                      example: '2020-01-01'
                                    qualifyingAmountExpenditure:
                                      description: The amount of qualifying expenditure. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                                      type: number
                                      example: '2000.99'
                                  required:
                                    - qualifyingDate
                                    - qualifyingAmountExpenditure
                                building:
                                  type: object
                                  description: Postcode is mandatory and minimum one of name and number field must be supplied
                                  properties:
                                    name:
                                      description: The name of the building.
                                      type: string
                                      pattern: ^[0-9a-zA-Z{À-˿’}\- _&`():.'^]{1,90}$
                                      example: Green Oak’s
                                    number:
                                      description: The number of the building.
                                      type: string
                                      pattern: ^[0-9a-zA-Z{À-˿’}\- _&`():.'^]{1,90}$
                                      example: 16D
                                    postcode:
                                      description: The postcode for the building.
                                      type: string
                                      pattern: ^[0-9a-zA-Z{À-˿’}\- _&`():.'^]{1,90}$
                                      example: SW1A 2AA
                                  required:
                                    - postcode
                              required:
                                - amount
                                - building
                          enhancedStructuredBuildingAllowance:
                            type: array
                            description: Details about enhanced structured building allowance
                            items:
                              type: object
                              properties:
                                amount:
                                  description: The amount of enhanced structured building allowance. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                                  type: number
                                  example: '5000.99'
                                firstYear:
                                  type: object
                                  description: Object containing the details about enhanced structured building allowance
                                  properties:
                                    qualifyingDate:
                                      description: The date qualified for enhanced structured building allowance. Must conform to the format YYYY-MM-DD.
                                      type: string
                                      example: '2020-01-01'
                                    qualifyingAmountExpenditure:
                                      description: The amount of qualifying expenditure. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                                      type: number
                                      example: '5000.99'
                                  required:
                                    - qualifyingDate
                                    - qualifyingAmountExpenditure
                                building:
                                  type: object
                                  description: Object holding enhanced structured building details. Postcode is mandatory and minimum one of name and number field must be supplied
                                  properties:
                                    name:
                                      description: The name of the building.
                                      type: string
                                      pattern: ^[0-9a-zA-Z{À-˿’}\- _&`():.'^]{1,90}$
                                      example: Green Oak’s
                                    number:
                                      description: The number of the building.
                                      type: string
                                      pattern: ^[0-9a-zA-Z{À-˿’}\- _&`():.'^]{1,90}$
                                      example: 16D
                                    postcode:
                                      description: The postcode for the building.
                                      type: string
                                      pattern: ^[0-9a-zA-Z{À-˿’}\- _&`():.'^]{1,90}$
                                      example: SW1A 2AA
                                  required:
                                    - postcode
                              required:
                                - amount
                                - building
                      nonFinancials:
                        type: object
                        description: Object containing details about annual non financials
                        properties:
                          businessDetailsChangedRecently:
                            description: A boolean to identify if business details have recently changed. The value must be true or false.
                            type: boolean
                            example: 'false'
                          class4NicsExemptionReason:
                            description: If exempt from paying Class 4 National Insurance, the reason for exemption.
                            type: string
                            enum:
                              - non-resident
                              - trustee
                              - diver
                              - ITTOIA-2005
                              - over-state-pension-age
                              - under-16
                            example: non-resident
                        required:
                          - businessDetailsChangedRecently
                      links:
                        type: array
                        items:
                          type: object
                          description: A list of endpoint links that indicate possible actions related to the current resource.
                          properties:
                            href:
                              description: The relative url of the endpoint.
                              type: string
                              example: /individuals/business/self-employment/AA999999A/XAIS12345678910/annual/2022-23
                            rel:
                              description: A label for the endpoint, which describes how it is related to the current resource. The rel will be self where the action is retrieval of the same resource.
                              type: string
                              enum:
                                - self
                                - create-and-amend-self-employment-annual-submission
                                - delete-self-employment-annual-submission
                            method:
                              description: The HTTP method type for the endpoint.
                              type: string
                              enum:
                                - GET
                                - PUT
                                - DELETE
                          required:
                            - href
                            - rel
                            - method
                          additionalProperties: false
                    additionalProperties: false
                  - $schema: http://json-schema.org/draft-04/schema#
                    title: TY 2024-25
                    description: Retrieves a self-employment annual summary for a tax year.
                    type: object
                    properties:
                      adjustments:
                        type: object
                        description: Object containing the details about annual adjustments
                        properties:
                          includedNonTaxableProfits:
                            description: Income, receipts and other profits included in business income or expenses but not taxable as business profits. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          basisAdjustment:
                            description: If your basis period is not the same as your accounting period, enter the adjustment needed to arrive at the profit or loss for the basis period. If the adjustment needs to be taken off the profit figure, this should be negative. Between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          overlapReliefUsed:
                            description: Overlap relief used this year. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          accountingAdjustment:
                            description: Adjustment for change of accounting practice. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          averagingAdjustment:
                            description: Averaging adjustment (only for farmers, market gardeners and creators of literary or artistic works) – if the adjustment needs to be taken off the profit figure, this should be negative. This value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          outstandingBusinessIncome:
                            description: Any other business income not included in other fields. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          balancingChargeBpra:
                            description: Balancing charge on sale or cessation of business use (only where Business Premises Renovation Allowance has been claimed). The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          balancingChargeOther:
                            description: Balancing charge on sale or cessation of business use (where you have disposed of assets for more than their tax value). The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          goodsAndServicesOwnUse:
                            description: Value of the normal sale price of goods or stock have been taken out of the business. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          transitionProfitAmount:
                            description: Amount of transition profit arising in this tax year for this income source. This value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          transitionProfitAccelerationAmount:
                            description: Additional amount of transition profit elected to be treated as arising in this tax year for this income source. This value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                        additionalProperties: false
                      allowances:
                        type: object
                        description: Object containing the details about annual allowances
                        properties:
                          annualInvestmentAllowance:
                            description: Annual investment allowance on items that qualify up to the AIA amount. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          capitalAllowanceMainPool:
                            description: Capital allowances on equipment, including cars with lower CO2 emissions. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            multipleOf: 0.01
                            minimum: 0
                            maximum: 99999999999.99
                            example: 2000.99
                          capitalAllowanceSpecialRatePool:
                            description: Capital allowances on equipment at the special rate, including cars with higher CO2 emissions. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            multipleOf: 0.01
                            minimum: 0
                            maximum: 99999999999.99
                            example: 2000.99
                          zeroEmissionsGoodsVehicleAllowance:
                            description: |-
                              Zero emissions goods vehicle allowance for goods vehicles purchased for business use.

                              The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          businessPremisesRenovationAllowance:
                            description: Business Premises Renovation Allowance if converting or renovating unused qualifying business premises. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          enhancedCapitalAllowance:
                            description: |-
                              Other enhanced capital allowances.

                              The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          allowanceOnSales:
                            description: Allowances on sale or cessation of business use (where you have disposed of assets for less than their tax value). The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          capitalAllowanceSingleAssetPool:
                            description: Claim to capital allowances in respect of all single asset pools. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          electricChargePointAllowance:
                            description: The expenditure incurred on electric charge-point equipment. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          zeroEmissionsCarAllowance:
                            description: The amount of zero emissions car allowance. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          tradingIncomeAllowance:
                            description: The amount of trading allowance (can not be supplied with any other allowances). The value must be between 0 and 1000.00 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          structuredBuildingAllowance:
                            type: array
                            description: Details about structured building allowance
                            items:
                              type: object
                              properties:
                                amount:
                                  description: |-
                                    The amount of structured building allowance.

                                    The value must be between 0 and 99999999999.99 up to 2 decimal places.
                                  type: number
                                  example: '2000.99'
                                firstYear:
                                  type: object
                                  description: Object containing the details about structured building allowance
                                  properties:
                                    qualifyingDate:
                                      description: The date qualified for structured building allowance. Must conform to the format YYYY-MM-DD.
                                      type: string
                                      example: '2020-01-01'
                                    qualifyingAmountExpenditure:
                                      description: The amount of qualifying expenditure. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                                      type: number
                                      example: '2000.99'
                                  required:
                                    - qualifyingDate
                                    - qualifyingAmountExpenditure
                                building:
                                  type: object
                                  description: Postcode is mandatory and minimum one of name and number field must be supplied
                                  properties:
                                    name:
                                      description: The name of the building.
                                      type: string
                                      pattern: ^[0-9a-zA-Z{À-˿’}\- _&`():.'^]{1,90}$
                                      example: Green Oak’s
                                    number:
                                      description: The number of the building.
                                      type: string
                                      pattern: ^[0-9a-zA-Z{À-˿’}\- _&`():.'^]{1,90}$
                                      example: 16D
                                    postcode:
                                      description: The postcode for the building.
                                      type: string
                                      pattern: ^[0-9a-zA-Z{À-˿’}\- _&`():.'^]{1,90}$
                                      example: SW1A 2AA
                                  required:
                                    - postcode
                              required:
                                - amount
                                - building
                          enhancedStructuredBuildingAllowance:
                            type: array
                            description: Details about enhanced structured building allowance
                            items:
                              type: object
                              properties:
                                amount:
                                  description: The amount of enhanced structured building allowance. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                                  type: number
                                  example: '5000.99'
                                firstYear:
                                  type: object
                                  description: Object containing the details about enhanced structured building allowance
                                  properties:
                                    qualifyingDate:
                                      description: The date qualified for enhanced structured building allowance. Must conform to the format YYYY-MM-DD.
                                      type: string
                                      example: '2020-01-01'
                                    qualifyingAmountExpenditure:
                                      description: The amount of qualifying expenditure. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                                      type: number
                                      example: '5000.99'
                                  required:
                                    - qualifyingDate
                                    - qualifyingAmountExpenditure
                                building:
                                  type: object
                                  description: Object holding enhanced structured building details. Postcode is mandatory and minimum one of name and number field must be supplied
                                  properties:
                                    name:
                                      description: The name of the building.
                                      type: string
                                      pattern: ^[0-9a-zA-Z{À-˿’}\- _&`():.'^]{1,90}$
                                      example: Green Oak’s
                                    number:
                                      description: The number of the building.
                                      type: string
                                      pattern: ^[0-9a-zA-Z{À-˿’}\- _&`():.'^]{1,90}$
                                      example: 16D
                                    postcode:
                                      description: The postcode for the building.
                                      type: string
                                      pattern: ^[0-9a-zA-Z{À-˿’}\- _&`():.'^]{1,90}$
                                      example: SW1A 2AA
                                  required:
                                    - postcode
                              required:
                                - amount
                                - building
                      nonFinancials:
                        type: object
                        description: Object containing details about annual non financials
                        properties:
                          businessDetailsChangedRecently:
                            description: A boolean to identify if business details have recently changed. The value must be true or false.
                            type: boolean
                            example: 'false'
                          class4NicsExemptionReason:
                            description: If exempt from paying Class 4 National Insurance, the reason for exemption.
                            type: string
                            enum:
                              - non-resident
                              - trustee
                              - diver
                              - ITTOIA-2005
                              - over-state-pension-age
                              - under-16
                            example: non-resident
                        required:
                          - businessDetailsChangedRecently
                    additionalProperties: false
                  - $schema: http://json-schema.org/draft-04/schema#
                    title: TY 2025-26 or later
                    description: Retrieves a self-employment annual summary for a tax year.
                    type: object
                    properties:
                      adjustments:
                        type: object
                        description: Object containing the details about annual adjustments
                        properties:
                          includedNonTaxableProfits:
                            description: Income, receipts and other profits included in business income or expenses but not taxable as business profits. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          basisAdjustment:
                            description: If your basis period is not the same as your accounting period, enter the adjustment needed to arrive at the profit or loss for the basis period. If the adjustment needs to be taken off the profit figure, this should be negative. Between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          overlapReliefUsed:
                            description: Overlap relief used this year. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          accountingAdjustment:
                            description: Adjustment for change of accounting practice. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          averagingAdjustment:
                            description: Averaging adjustment (only for farmers, market gardeners and creators of literary or artistic works) – if the adjustment needs to be taken off the profit figure, this should be negative. This value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          outstandingBusinessIncome:
                            description: Any other business income not included in other fields. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          balancingChargeBpra:
                            description: Balancing charge on sale or cessation of business use (only where Business Premises Renovation Allowance has been claimed). The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          balancingChargeOther:
                            description: Balancing charge on sale or cessation of business use (where you have disposed of assets for more than their tax value). The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          goodsAndServicesOwnUse:
                            description: Value of the normal sale price of goods or stock have been taken out of the business. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          transitionProfitAmount:
                            description: Amount of transition profit arising in this tax year for this income source. This value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          transitionProfitAccelerationAmount:
                            description: Additional amount of transition profit elected to be treated as arising in this tax year for this income source. This value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                        additionalProperties: false
                      allowances:
                        type: object
                        description: Object containing the details about annual allowances
                        properties:
                          annualInvestmentAllowance:
                            description: Annual investment allowance on items that qualify up to the AIA amount. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          capitalAllowanceMainPool:
                            description: Capital allowances on equipment, including cars with lower CO2 emissions. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            multipleOf: 0.01
                            minimum: 0
                            maximum: 99999999999.99
                            example: 2000.99
                          capitalAllowanceSpecialRatePool:
                            description: Capital allowances on equipment at the special rate, including cars with higher CO2 emissions. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            multipleOf: 0.01
                            minimum: 0
                            maximum: 99999999999.99
                            example: 2000.99
                          businessPremisesRenovationAllowance:
                            description: Business Premises Renovation Allowance if converting or renovating unused qualifying business premises. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          enhancedCapitalAllowance:
                            description: |-
                              Other enhanced capital allowances.

                              The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          allowanceOnSales:
                            description: Allowances on sale or cessation of business use (where you have disposed of assets for less than their tax value). The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          capitalAllowanceSingleAssetPool:
                            description: Claim to capital allowances in respect of all single asset pools. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          zeroEmissionsCarAllowance:
                            description: The amount of zero emissions car allowance. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          tradingIncomeAllowance:
                            description: The amount of trading allowance (can not be supplied with any other allowances). The value must be between 0 and 1000.00 up to 2 decimal places.
                            type: number
                            example: '2000.99'
                          structuredBuildingAllowance:
                            type: array
                            description: Details about structured building allowance
                            items:
                              type: object
                              properties:
                                amount:
                                  description: |-
                                    The amount of structured building allowance.

                                    The value must be between 0 and 99999999999.99 up to 2 decimal places.
                                  type: number
                                  example: '2000.99'
                                firstYear:
                                  type: object
                                  description: Object containing the details about structured building allowance
                                  properties:
                                    qualifyingDate:
                                      description: The date qualified for structured building allowance. Must conform to the format YYYY-MM-DD.
                                      type: string
                                      example: '2020-01-01'
                                    qualifyingAmountExpenditure:
                                      description: The amount of qualifying expenditure. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                                      type: number
                                      example: '2000.99'
                                  required:
                                    - qualifyingDate
                                    - qualifyingAmountExpenditure
                                building:
                                  type: object
                                  description: Postcode is mandatory and minimum one of name and number field must be supplied
                                  properties:
                                    name:
                                      description: The name of the building.
                                      type: string
                                      pattern: ^[0-9a-zA-Z{À-˿’}\- _&`():.'^]{1,90}$
                                      example: Green Oak’s
                                    number:
                                      description: The number of the building.
                                      type: string
                                      pattern: ^[0-9a-zA-Z{À-˿’}\- _&`():.'^]{1,90}$
                                      example: 16D
                                    postcode:
                                      description: The postcode for the building.
                                      type: string
                                      pattern: ^[0-9a-zA-Z{À-˿’}\- _&`():.'^]{1,90}$
                                      example: SW1A 2AA
                                  required:
                                    - postcode
                              required:
                                - amount
                                - building
                          enhancedStructuredBuildingAllowance:
                            type: array
                            description: Details about enhanced structured building allowance
                            items:
                              type: object
                              properties:
                                amount:
                                  description: The amount of enhanced structured building allowance. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                                  type: number
                                  example: '5000.99'
                                firstYear:
                                  type: object
                                  description: Object containing the details about enhanced structured building allowance
                                  properties:
                                    qualifyingDate:
                                      description: The date qualified for enhanced structured building allowance. Must conform to the format YYYY-MM-DD.
                                      type: string
                                      example: '2020-01-01'
                                    qualifyingAmountExpenditure:
                                      description: The amount of qualifying expenditure. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                                      type: number
                                      example: '5000.99'
                                  required:
                                    - qualifyingDate
                                    - qualifyingAmountExpenditure
                                building:
                                  type: object
                                  description: Object holding enhanced structured building details. Postcode is mandatory and minimum one of name and number field must be supplied
                                  properties:
                                    name:
                                      description: The name of the building.
                                      type: string
                                      pattern: ^[0-9a-zA-Z{À-˿’}\- _&`():.'^]{1,90}$
                                      example: Green Oak’s
                                    number:
                                      description: The number of the building.
                                      type: string
                                      pattern: ^[0-9a-zA-Z{À-˿’}\- _&`():.'^]{1,90}$
                                      example: 16D
                                    postcode:
                                      description: The postcode for the building.
                                      type: string
                                      pattern: ^[0-9a-zA-Z{À-˿’}\- _&`():.'^]{1,90}$
                                      example: SW1A 2AA
                                  required:
                                    - postcode
                              required:
                                - amount
                                - building
                      nonFinancials:
                        type: object
                        description: Object containing details about annual non financials
                        properties:
                          businessDetailsChangedRecently:
                            description: A boolean to identify if business details have recently changed. The value must be true or false.
                            type: boolean
                            example: 'false'
                          class4NicsExemptionReason:
                            description: If exempt from paying Class 4 National Insurance, the reason for exemption.
                            type: string
                            enum:
                              - non-resident
                              - trustee
                              - diver
                              - ITTOIA-2005
                              - over-state-pension-age
                              - under-16
                            example: non-resident
                        required:
                          - businessDetailsChangedRecently
                    additionalProperties: false
              examples:
                With allowances response for TY 2023-24 and before:
                  value:
                    adjustments:
                      includedNonTaxableProfits: 210
                      basisAdjustment: 178.23
                      overlapReliefUsed: 123.78
                      accountingAdjustment: 678.9
                      averagingAdjustment: 674.98
                      outstandingBusinessIncome: 342.67
                      balancingChargeBpra: 145.98
                      balancingChargeOther: 457.23
                      goodsAndServicesOwnUse: 432.9
                    allowances:
                      annualInvestmentAllowance: 564.76
                      capitalAllowanceMainPool: 456.98
                      capitalAllowanceSpecialRatePool: 352.87
                      zeroEmissionsGoodsVehicleAllowance: 653.9
                      businessPremisesRenovationAllowance: 452.98
                      enhancedCapitalAllowance: 563.23
                      allowanceOnSales: 678.9
                      capitalAllowanceSingleAssetPool: 563.89
                      electricChargePointAllowance: 0
                      structuredBuildingAllowance:
                        - amount: 564.89
                          firstYear:
                            qualifyingDate: '2019-05-29'
                            qualifyingAmountExpenditure: 567.67
                          building:
                            name: Victoria Building
                            number: '23'
                            postcode: TF3 5GH
                      enhancedStructuredBuildingAllowance:
                        - amount: 445.56
                          firstYear:
                            qualifyingDate: '2019-09-29'
                            qualifyingAmountExpenditure: 565.56
                          building:
                            name: Trinity House
                            number: '20'
                            postcode: TF4 7HJ
                      zeroEmissionsCarAllowance: 678.78
                    nonFinancials:
                      businessDetailsChangedRecently: true
                      class4NicsExemptionReason: non-resident
                    links:
                      - href: /individuals/business/self-employment/TC663795B/XAIS12345678910/annual/2019-20
                        rel: create-and-amend-self-employment-annual-submission
                        method: PUT
                      - href: /individuals/business/self-employment/TC663795B/XAIS12345678910/annual/2019-20
                        rel: self
                        method: GET
                      - href: /individuals/business/self-employment/TC663795B/XAIS12345678910/annual/2019-20
                        rel: delete-self-employment-annual-submission
                        method: DELETE
                With trading allowances response for TY 2023-24 and before:
                  value:
                    adjustments:
                      includedNonTaxableProfits: 210
                      basisAdjustment: 178.23
                      overlapReliefUsed: 123.78
                      accountingAdjustment: 678.9
                      averagingAdjustment: 674.98
                      outstandingBusinessIncome: 342.67
                      balancingChargeBpra: 145.98
                      balancingChargeOther: 457.23
                      goodsAndServicesOwnUse: 432.9
                    allowances:
                      tradingIncomeAllowance: 572.99
                    nonFinancials:
                      businessDetailsChangedRecently: true
                      class4NicsExemptionReason: non-resident
                    links:
                      - href: /individuals/business/self-employment/TC663795B/XAIS12345678910/annual/2019-20
                        rel: create-and-amend-self-employment-annual-submission
                        method: PUT
                      - href: /individuals/business/self-employment/TC663795B/XAIS12345678910/annual/2019-20
                        rel: self
                        method: GET
                      - href: /individuals/business/self-employment/TC663795B/XAIS12345678910/annual/2019-20
                        rel: delete-self-employment-annual-submission
                        method: DELETE
                With allowances response for TY 2024-25:
                  value:
                    adjustments:
                      includedNonTaxableProfits: 210
                      basisAdjustment: 178.23
                      overlapReliefUsed: 123.78
                      accountingAdjustment: 678.9
                      averagingAdjustment: 674.98
                      outstandingBusinessIncome: 342.67
                      balancingChargeBpra: 145.98
                      balancingChargeOther: 457.23
                      goodsAndServicesOwnUse: 432.9
                      transitionProfitAmount: 435.9
                      transitionProfitAccelerationAmount: 439.9
                    allowances:
                      annualInvestmentAllowance: 564.76
                      capitalAllowanceMainPool: 456.98
                      capitalAllowanceSpecialRatePool: 352.87
                      zeroEmissionsGoodsVehicleAllowance: 653.9
                      businessPremisesRenovationAllowance: 452.98
                      enhancedCapitalAllowance: 563.23
                      allowanceOnSales: 678.9
                      capitalAllowanceSingleAssetPool: 563.89
                      electricChargePointAllowance: 0
                      structuredBuildingAllowance:
                        - amount: 564.89
                          firstYear:
                            qualifyingDate: '2019-05-29'
                            qualifyingAmountExpenditure: 567.67
                          building:
                            name: Victoria Building
                            number: '23'
                            postcode: TF3 5GH
                      enhancedStructuredBuildingAllowance:
                        - amount: 445.56
                          firstYear:
                            qualifyingDate: '2019-09-29'
                            qualifyingAmountExpenditure: 565.56
                          building:
                            name: Trinity House
                            number: '20'
                            postcode: TF4 7HJ
                      zeroEmissionsCarAllowance: 678.78
                    nonFinancials:
                      businessDetailsChangedRecently: true
                      class4NicsExemptionReason: non-resident
                With trading allowances response for TY 2024-25:
                  value:
                    adjustments:
                      includedNonTaxableProfits: 210
                      basisAdjustment: 178.23
                      overlapReliefUsed: 123.78
                      accountingAdjustment: 678.9
                      averagingAdjustment: 674.98
                      outstandingBusinessIncome: 342.67
                      balancingChargeBpra: 145.98
                      balancingChargeOther: 457.23
                      goodsAndServicesOwnUse: 432.9
                      transitionProfitAmount: 435.9
                      transitionProfitAccelerationAmount: 439.9
                    allowances:
                      tradingIncomeAllowance: 572.99
                    nonFinancials:
                      businessDetailsChangedRecently: true
                      class4NicsExemptionReason: non-resident
                With allowances response for TY 2025-26 onwards:
                  value:
                    adjustments:
                      includedNonTaxableProfits: 210
                      basisAdjustment: 178.23
                      overlapReliefUsed: 123.78
                      accountingAdjustment: 678.9
                      averagingAdjustment: 674.98
                      outstandingBusinessIncome: 342.67
                      balancingChargeBpra: 145.98
                      balancingChargeOther: 457.23
                      goodsAndServicesOwnUse: 432.9
                      transitionProfitAmount: 435.9
                      transitionProfitAccelerationAmount: 439.9
                    allowances:
                      annualInvestmentAllowance: 564.76
                      capitalAllowanceMainPool: 456.98
                      capitalAllowanceSpecialRatePool: 352.87
                      businessPremisesRenovationAllowance: 452.98
                      enhancedCapitalAllowance: 563.23
                      allowanceOnSales: 678.9
                      capitalAllowanceSingleAssetPool: 563.89
                      structuredBuildingAllowance:
                        - amount: 564.89
                          firstYear:
                            qualifyingDate: '2019-05-29'
                            qualifyingAmountExpenditure: 567.67
                          building:
                            name: Victoria Building
                            number: '23'
                            postcode: TF3 5GH
                      enhancedStructuredBuildingAllowance:
                        - amount: 445.56
                          firstYear:
                            qualifyingDate: '2019-09-29'
                            qualifyingAmountExpenditure: 565.56
                          building:
                            name: Trinity House
                            number: '20'
                            postcode: TF4 7HJ
                      zeroEmissionsCarAllowance: 678.78
                    nonFinancials:
                      businessDetailsChangedRecently: true
                      class4NicsExemptionReason: non-resident
                With trading allowances response for TY 2025-26 onwards:
                  value:
                    adjustments:
                      includedNonTaxableProfits: 210
                      basisAdjustment: 178.23
                      overlapReliefUsed: 123.78
                      accountingAdjustment: 678.9
                      averagingAdjustment: 674.98
                      outstandingBusinessIncome: 342.67
                      balancingChargeBpra: 145.98
                      balancingChargeOther: 457.23
                      goodsAndServicesOwnUse: 432.9
                      transitionProfitAmount: 435.9
                      transitionProfitAccelerationAmount: 439.9
                    allowances:
                      tradingIncomeAllowance: 572.99
                    nonFinancials:
                      businessDetailsChangedRecently: true
                      class4NicsExemptionReason: non-resident
        '400':
          description: Bad request
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                FORMAT_NINO:
                  description: The format of the supplied NINO field is not valid.
                  value: *ref_11
                FORMAT_TAX_YEAR:
                  description: The format of the supplied taxYear field is not valid.
                  value: *ref_12
                FORMAT_BUSINESS_ID:
                  description: The format of the supplied Business ID field is not valid.
                  value: *ref_13
                RULE_TAX_YEAR_NOT_SUPPORTED:
                  description: |
                    The specified tax year is not supported.
                    Either the tax year specified is before the minimum tax year value,
                    or it is after the maximum tax year value.
                  value: *ref_14
                RULE_TAX_YEAR_RANGE_INVALID:
                  description: Tax year range invalid. A tax year range of one year is required.
                  value: *ref_15
                RULE_INCORRECT_GOV_TEST_SCENARIO:
                  description: The request did not match any available Sandbox data. Check that the supplied Gov-Test-Scenario is correct for this endpoint version. This error will only be returned in the Sandbox environment.
                  value: *ref_16
        '403':
          description: Forbidden
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                CLIENT_OR_AGENT_NOT_AUTHORISED:
                  description: |
                    The client and/or agent is not authorised. This is normally because: the client is not subscribed to MTD, the agent is not subscribed to Agent Services, or the client has not authorised the agent to act on their behalf.
                  value: *ref_17
        '404':
          description: Not Found
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                MATCHING_RESOURCE_NOT_FOUND:
                  description: |
                    The supplied income source could not be found.
                  value: *ref_18
    delete:
      summary: Delete a Self-Employment Annual Submission
      security:
        - User-Restricted:
            - write:self-assessment
      description: |
        This endpoint allows a developer to delete the self-employment annual submission for a tax year.
        A National Insurance number, Business ID and tax year must be provided.

        ### Test data
        Scenario simulation using Gov-Test-Scenario headers is only available in the sandbox environment.

        | Header Value (Gov-Test-Scenario)     | Scenario                                                                                        |
        |--------------------------------------|-------------------------------------------------------------------------------------------------|
        | DELETE                               | Simulates success response.                                                                     |
        | NOT_FOUND                            | Simulates the scenario where no data found.                                                     |
        | OUTSIDE_AMENDMENT_WINDOW             | Simulates the scenario where request cannot be completed as it is outside the amendment window. |
        | STATEFUL                             | Performs a stateful delete.                                                                     |
      tags:
        - Self-Employment Annual Submission
      parameters:
        - name: nino
          in: path
          description: |
            National Insurance number, in the format `AA999999A`
          schema: *ref_6
          required: true
        - name: businessId
          in: path
          description: |
            An identifier for the business, unique to the customer.<p>Must conform to the regular expression `^X[A-Z0-9]{1}IS[0-9]{11}$`
          schema: *ref_7
          required: true
        - name: taxYear
          in: path
          description: |
            The tax year to which the data applies in the format YYYY-YY. The start year and end year must not span two tax years. The minimum tax year is 2017-18. No gaps are allowed, for example, 2022-24 is not valid.'
          schema: *ref_8
          required: true
        - name: Accept
          in: header
          description: |
            Specifies the response format and the version of the API to be used.
          schema: *ref_9
          required: true
        - name: Authorization
          in: header
          description: |
            An OAuth 2.0 Bearer Token with the *write:self-assessment* scope.
          schema: *ref_19
          required: true
        - name: Gov-Test-Scenario
          in: header
          description: |
            Only in sandbox environment. See Test Data table for all header values.
          schema: *ref_10
          required: false
      responses:
        '204':
          description: Success(No Content)
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content: {}
        '400':
          description: Bad request
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                FORMAT_NINO:
                  description: The format of the supplied NINO field is not valid.
                  value: *ref_11
                FORMAT_TAX_YEAR:
                  description: The format of the supplied taxYear field is not valid.
                  value: *ref_12
                FORMAT_BUSINESS_ID:
                  description: The format of the supplied Business ID field is not valid.
                  value: *ref_13
                RULE_TAX_YEAR_NOT_SUPPORTED:
                  description: |
                    The specified tax year is not supported.
                    Either the tax year specified is before the minimum tax year value,
                    or it is after the maximum tax year value.
                  value: *ref_14
                RULE_TAX_YEAR_RANGE_INVALID:
                  description: Tax year range invalid. A tax year range of one year is required.
                  value: *ref_15
                RULE_OUTSIDE_AMENDMENT_WINDOW:
                  description: Request cannot be completed as you are outside the amendment window.
                  value: *ref_20
                RULE_INCORRECT_GOV_TEST_SCENARIO:
                  description: The request did not match any available Sandbox data. Check that the supplied Gov-Test-Scenario is correct for this endpoint version. This error will only be returned in the Sandbox environment.
                  value: *ref_16
        '403':
          description: Forbidden
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                CLIENT_OR_AGENT_NOT_AUTHORISED:
                  description: |
                    The client and/or agent is not authorised. This is normally because: the client is not subscribed to MTD, the agent is not subscribed to Agent Services, or the client has not authorised the agent to act on their behalf.
                  value: *ref_17
        '404':
          description: Not Found
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                MATCHING_RESOURCE_NOT_FOUND:
                  description: The supplied income source could not be found.
                  value:
                    code: MATCHING_RESOURCE_NOT_FOUND
                    message: Matching resource not found
  /individuals/business/self-employment/{nino}/{businessId}/period:
    post:
      summary: Create a Self-Employment Period Summary
      description: |
        This endpoint enables you to create a self-employment period summary for submission of periodic data.
        Submissions must include values for incomes, expenses and deductions, even if the values are zero.
        For example, if there is no income for the period, submit a periodIncome object with 'turnover' and 'other' values of zero.
        A National Insurance number and business ID must be provided.

        <strong>Note: This endpoint can only be used for submissions for tax year 2024-25 or earlier.
        New endpoints which support cumulative submission will be provided for tax year 2025-26 onwards</strong>.

        ### Test data
        Scenario simulation using Gov-Test-Scenario headers is only available in the sandbox environment.

        | Header Value (Gov-Test-Scenario)             | Scenario                                                                                                                                                                           |
        |----------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
        | N/A - DEFAULT                                | Simulates success response.                                                                                                                                                        |
        | OVERLAPPING_PERIOD                           | Simulates the scenario where the period summary overlaps with an existing period summary.                                                                                          |
        | MISALIGNED_PERIOD                            | Simulates the scenario where the period summary isn't within the accounting period.                                                                                                |
        | NOT_CONTIGUOUS_PERIOD                        | Simulates the scenario where the period summaries are not contiguous.                                                                                                              |
        | NOT_ALLOWED_CONSOLIDATED_EXPENSES            | Simulates the scenario where the cumulative turnover amount exceeds the consolidated expenses threshold.                                                                           |
        | DUPLICATE_SUBMISSION                         | Simulates the scenario where a summary has already been submitted for the specified period. <br><br>This scenario only occurs for data related to tax years from 2023-24 onwards.  |
        | TAX_YEAR_NOT_SUPPORTED                       | Simulates the scenario where the tax year is not supported. <br><br>This scenario only occurs for data related to tax years from 2023-24 onwards.                                  |
        | NOT_FOUND                                    | Simulates the scenario where no data is found.                                                                                                                                     |
        | BOTH_EXPENSES_SUPPLIED                       | Simulates the scenario where both expenses and consolidatedExpenses are present at the same time.                                                                                  |
        | BUSINESS_INCOME_PERIOD_RESTRICTION           | Simulates the scenario where the customer has ITSA status 'Annual' or a latent business income source and the submission period is between 6 April to 5 April.                     |
        | STATEFUL                                     | Performs a stateful create.                                                                                                                                                        |

        ### Standard quarterly period dates
        The standard quarterly periods and deadlines in each tax year are given in this table. For more information please visit [the guide](https://www.gov.uk/guidance/using-making-tax-digital-for-income-tax)

        | Quarterly period       | Quarterly deadline |
        |------------------------|--------------------|
        | 6 April to 5 July      | 5 August           |
        | 6 July to 5 October    | 5 November         |
        | 6 October to 5 January | 5 February         |
        | 6 January to 5 April   | 5 May              |
      tags:
        - Self-Employment Period Summaries
      parameters:
        - name: nino
          in: path
          description: |
            National Insurance number, in the format `AA999999A`
          schema: *ref_6
          required: true
        - name: businessId
          in: path
          description: |
            An identifier for the business, unique to the customer.<p>Must conform to the regular expression `^X[A-Z0-9]{1}IS[0-9]{11}$`
          schema: *ref_7
          required: true
        - name: Accept
          in: header
          description: |
            Specifies the response format and the version of the API to be used.
          schema: *ref_9
          required: true
        - name: Content-Type
          in: header
          description: |
            Specifies the format of the request body, which must be JSON.
          schema: *ref_21
          required: true
        - name: Authorization
          in: header
          description: |
            An OAuth 2.0 Bearer Token with the *write:self-assessment* scope.
          schema: *ref_19
          required: true
        - name: Gov-Test-Scenario
          in: header
          description: |
            Only in sandbox environment. See Test Data table for all header values.
          schema: *ref_10
          required: false
      security:
        - User-Restricted:
            - write:self-assessment
      requestBody:
        content:
          application/json:
            schema:
              oneOf:
                - $schema: http://json-schema.org/draft-04/schema#
                  title: Before TY 2023-24
                  description: Create a Self-Employment Period Summary Request
                  type: object
                  properties:
                    periodDates:
                      $schema: http://json-schema.org/draft-04/schema#
                      type: object
                      description: Object containing the details about self-employment period dates.
                      properties: &ref_22
                        periodStartDate:
                          id: full-date
                          description: The first day that the income, expenses and deduction period summary covers.
                          type: string
                          example: '2020-01-01'
                        periodEndDate:
                          id: full-date
                          description: The last day that the income, expenses and deduction period summary covers.
                          type: string
                          example: '2020-01-01'
                      additionalProperties: false
                      required: &ref_23
                        - periodStartDate
                        - periodEndDate
                    periodIncome:
                      $schema: http://json-schema.org/draft-04/schema#
                      type: object
                      description: Object containing the details about self-employment income.
                      properties: &ref_27
                        turnover:
                          description: The takings, fees, sales or money earned by the business. Income associated with the running of the business. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '10000.00'
                        other:
                          type: number
                          description: Any other business income not included in turnover. Income associated with the running of the business. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          example: '10000.00'
                      additionalProperties: false
                    periodExpenses:
                      $schema: http://json-schema.org/draft-04/schema#
                      type: object
                      description: Object containing the details about self-employment expenses.
                      properties: &ref_28
                        consolidatedExpenses:
                          type: number
                          description: The sum of all allowable expenses for the specified period. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          example: '10000.00'
                        costOfGoods:
                          type: number
                          description: Cost of goods bought for resale or goods used. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.00'
                        paymentsToSubcontractors:
                          type: number
                          description: Payments to construction industry subcontractors. Expenses associated with the running of the business. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          example: '10000.00'
                        wagesAndStaffCosts:
                          type: number
                          description: Wages, salaries and other staff costs. Expenses associated with the running of the business. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          example: '10000.00'
                        carVanTravelExpenses:
                          type: number
                          description: Car, van and travel expenses associated with the running of the business. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        premisesRunningCosts:
                          type: number
                          description: Rent, rates, power and insurance costs. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        maintenanceCosts:
                          type: number
                          description: Repairs and renewals of property and equipment. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        adminCosts:
                          type: number
                          description: Phone, fax, stationery and other office costs. Expenses associated with the running of the business. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        businessEntertainmentCosts:
                          type: number
                          description: Business entertainment costs. Expenses associated with the running of the business. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        advertisingCosts:
                          type: number
                          description: Advertising costs. Expenses associated with the running of the business. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        interestOnBankOtherLoans:
                          type: number
                          description: Interest on bank and other loans. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        financeCharges:
                          type: number
                          description: Bank, credit card and other financial charges. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        irrecoverableDebts:
                          type: number
                          description: Irrecoverable debts written off. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        professionalFees:
                          type: number
                          description: Accountancy, legal and other professional fees. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        depreciation:
                          type: number
                          description: Depreciation and loss/profit on sales of assets. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        otherExpenses:
                          type: number
                          description: Other business expenses associated with the running of the business. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                      additionalProperties: false
                    periodDisallowableExpenses:
                      $schema: http://json-schema.org/draft-04/schema#
                      type: object
                      description: Object containing the details about self-employment disallowable expenses that cannot be claimed for tax purposes.
                      properties: &ref_29
                        costOfGoodsDisallowable:
                          type: number
                          description: Cost of goods bought for resale or goods used. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.45'
                        paymentsToSubcontractorsDisallowable:
                          type: number
                          description: Payments to subcontractors - Construction Industry Scheme (CIS). Any expense or partial expense that cannot be claimed for tax purposes. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        wagesAndStaffCostsDisallowable:
                          type: number
                          description: Wages, salaries and other staff costs. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        carVanTravelExpensesDisallowable:
                          type: number
                          description: Car, van and travel expenses. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        premisesRunningCostsDisallowable:
                          type: number
                          description: Rent, rates, power and insurance costs. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        maintenanceCostsDisallowable:
                          type: number
                          description: Repairs and renewals of property and equipment. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        adminCostsDisallowable:
                          type: number
                          description: Phone, fax, stationery and other office costs. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        businessEntertainmentCostsDisallowable:
                          type: number
                          description: Business entertainment costs. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        advertisingCostsDisallowable:
                          type: number
                          description: Advertising costs. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        interestOnBankOtherLoansDisallowable:
                          type: number
                          description: Interest on bank and other loans. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        financeChargesDisallowable:
                          type: number
                          description: Bank, credit card and other financial charges. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        irrecoverableDebtsDisallowable:
                          type: number
                          description: Irrecoverable debts written off. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        professionalFeesDisallowable:
                          type: number
                          description: Legal and other professional fees. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        depreciationDisallowable:
                          type: number
                          description: Depreciation and loss/profit on sales of assets. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        otherExpensesDisallowable:
                          type: number
                          description: Other business expenses. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                      additionalProperties: false
                  additionalProperties: false
                  required:
                    - periodDates
                - $schema: http://json-schema.org/draft-04/schema#
                  title: TY 2023-24 and 2024-25
                  description: Create a Self-Employment Period Summary Request
                  type: object
                  properties:
                    periodDates:
                      $schema: http://json-schema.org/draft-04/schema#
                      type: object
                      description: Object containing the details about self-employment period dates.
                      properties: *ref_22
                      additionalProperties: false
                      required: *ref_23
                    periodIncome:
                      $schema: http://json-schema.org/draft-04/schema#
                      type: object
                      description: Object containing the details about self-employment income.
                      properties: &ref_30
                        turnover:
                          description: The takings, fees, sales or money earned by the business. Income associated with the running of the business. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          type: number
                          example: '10000.00'
                        other:
                          type: number
                          description: Any other business income not included in turnover. Income associated with the running of the business. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          example: '10000.00'
                        taxTakenOffTradingIncome:
                          type: number
                          description: Other tax taken off trading income apart from CIS deductions. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                          example: '10000.00'
                      additionalProperties: false
                    periodExpenses:
                      $schema: http://json-schema.org/draft-04/schema#
                      type: object
                      description: Object containing the details about self-employment expenses.
                      properties: &ref_31
                        consolidatedExpenses:
                          type: number
                          description: The sum of all allowable expenses for the specified period. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.00'
                        costOfGoods:
                          type: number
                          description: Cost of goods bought for resale or goods used. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.00'
                        paymentsToSubcontractors:
                          type: number
                          description: Payments to construction industry subcontractors. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.00'
                        wagesAndStaffCosts:
                          type: number
                          description: Wages, salaries and other staff costs. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.00'
                        carVanTravelExpenses:
                          type: number
                          description: Car, van and travel expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        premisesRunningCosts:
                          type: number
                          description: Rent, rates, power and insurance costs. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        maintenanceCosts:
                          type: number
                          description: Repairs and renewals of property and equipment. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        adminCosts:
                          type: number
                          description: Phone, fax, stationery and other office costs. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        businessEntertainmentCosts:
                          type: number
                          description: Business entertainment costs. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        advertisingCosts:
                          type: number
                          description: Advertising costs. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        interestOnBankOtherLoans:
                          type: number
                          description: Interest on bank and other loans. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        financeCharges:
                          type: number
                          description: Bank, credit card and other financial charges. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        irrecoverableDebts:
                          type: number
                          description: Irrecoverable debts written off. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        professionalFees:
                          type: number
                          description: Accountancy, legal and other professional fees. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        depreciation:
                          type: number
                          description: Depreciation and loss/profit on sales of assets. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        otherExpenses:
                          type: number
                          description: Other business expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                      additionalProperties: false
                    periodDisallowableExpenses:
                      $schema: http://json-schema.org/draft-04/schema#
                      type: object
                      description: Object containing the details about self-employment disallowable expenses that cannot be claimed for tax purposes.
                      properties: &ref_32
                        costOfGoodsDisallowable:
                          type: number
                          description: Cost of goods bought for resale or goods used. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.45'
                        paymentsToSubcontractorsDisallowable:
                          type: number
                          description: Payments to subcontractors - Construction Industry Scheme (CIS). Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        wagesAndStaffCostsDisallowable:
                          type: number
                          description: Wages, salaries and other staff costs. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        carVanTravelExpensesDisallowable:
                          type: number
                          description: Car, van and travel expenses. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        premisesRunningCostsDisallowable:
                          type: number
                          description: Rent, rates, power and insurance costs. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        maintenanceCostsDisallowable:
                          type: number
                          description: Repairs and renewals of property and equipment. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        adminCostsDisallowable:
                          type: number
                          description: Phone, fax, stationery and other office costs. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        businessEntertainmentCostsDisallowable:
                          type: number
                          description: Business entertainment costs. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        advertisingCostsDisallowable:
                          type: number
                          description: Advertising costs. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        interestOnBankOtherLoansDisallowable:
                          type: number
                          description: Interest on bank and other loans. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        financeChargesDisallowable:
                          type: number
                          description: Bank, credit card and other financial charges. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        irrecoverableDebtsDisallowable:
                          type: number
                          description: Irrecoverable debts written off. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        professionalFeesDisallowable:
                          type: number
                          description: Legal and other professional fees. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        depreciationDisallowable:
                          type: number
                          description: Depreciation and loss/profit on sales of assets. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                        otherExpensesDisallowable:
                          type: number
                          description: Other business expenses. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                          example: '10000.89'
                      additionalProperties: false
                  additionalProperties: false
                  required:
                    - periodDates
            examples:
              Non-consolidated request for TY 2023-24 and 2024-25:
                value:
                  periodDates:
                    periodStartDate: '2019-07-06'
                    periodEndDate: '2019-10-05'
                  periodIncome:
                    turnover: 1000.99
                    other: 1000.09
                    taxTakenOffTradingIncome: 1000.99
                  periodExpenses:
                    costOfGoods: 1000.99
                    paymentsToSubcontractors: -0.99
                    wagesAndStaffCosts: -1000.99
                    carVanTravelExpenses: -1000.99
                    premisesRunningCosts: -99999.99
                    maintenanceCosts: -1000.99
                    adminCosts: -1000.99
                    businessEntertainmentCosts: -1000.99
                    advertisingCosts: -1000.99
                    interestOnBankOtherLoans: -1000.99
                    financeCharges: -1000.99
                    irrecoverableDebts: -1000.99
                    professionalFees: -99999999999.99
                    depreciation: -1000.99
                    otherExpenses: -1000.99
                  periodDisallowableExpenses:
                    costOfGoodsDisallowable: 91000.99
                    paymentsToSubcontractorsDisallowable: -1000.99
                    wagesAndStaffCostsDisallowable: -1000.99
                    carVanTravelExpensesDisallowable: -1000.99
                    premisesRunningCostsDisallowable: -1000.99
                    maintenanceCostsDisallowable: -999.99
                    adminCostsDisallowable: -1000.99
                    businessEntertainmentCostsDisallowable: -1000.99
                    advertisingCostsDisallowable: -1000.99
                    interestOnBankOtherLoansDisallowable: -1000.99
                    financeChargesDisallowable: -9999.99
                    irrecoverableDebtsDisallowable: 1000.99
                    professionalFeesDisallowable: 1000.99
                    depreciationDisallowable: -99999999999.99
                    otherExpensesDisallowable: -1000.99
              Consolidated request for TY 2023-24 and 2024-25:
                value:
                  periodDates:
                    periodStartDate: '2019-07-06'
                    periodEndDate: '2019-10-05'
                  periodIncome:
                    turnover: 1000.99
                    other: 1000.09
                    taxTakenOffTradingIncome: 1000.99
                  periodExpenses:
                    consolidatedExpenses: -99999999999.99
              Non-consolidated request for TY 2022-23 and before:
                value:
                  periodDates:
                    periodStartDate: '2019-04-06'
                    periodEndDate: '2019-07-05'
                  periodIncome:
                    turnover: 1000.99
                    other: 1000.09
                  periodExpenses:
                    costOfGoods: 1000.99
                    paymentsToSubcontractors: 1000.99
                    wagesAndStaffCosts: 1000.99
                    carVanTravelExpenses: 1000.99
                    premisesRunningCosts: -99999.99
                    maintenanceCosts: -1000.99
                    adminCosts: 1000.99
                    businessEntertainmentCosts: 1000.99
                    advertisingCosts: 1000.99
                    interestOnBankOtherLoans: -1000.99
                    financeCharges: -1000.99
                    irrecoverableDebts: -1000.99
                    professionalFees: -99999999999.99
                    depreciation: -1000.99
                    otherExpenses: 1000.99
                  periodDisallowableExpenses:
                    costOfGoodsDisallowable: 91000.99
                    paymentsToSubcontractorsDisallowable: 1000.99
                    wagesAndStaffCostsDisallowable: 1000.99
                    carVanTravelExpensesDisallowable: 1000.99
                    premisesRunningCostsDisallowable: -1000.99
                    maintenanceCostsDisallowable: -999.99
                    adminCostsDisallowable: 1000.99
                    businessEntertainmentCostsDisallowable: 1000.99
                    advertisingCostsDisallowable: 1000.99
                    interestOnBankOtherLoansDisallowable: -1000.99
                    financeChargesDisallowable: -9999.99
                    irrecoverableDebtsDisallowable: 1000.99
                    professionalFeesDisallowable: 1000.99
                    depreciationDisallowable: -99999999999.99
                    otherExpensesDisallowable: 1000.99
              Consolidated request for TY 2022-23 and before:
                value:
                  periodDates:
                    periodStartDate: '2019-04-06'
                    periodEndDate: '2019-07-05'
                  periodIncome:
                    turnover: 1000.99
                    other: 1000.09
                  periodExpenses:
                    consolidatedExpenses: 99999999999.99
      responses:
        '200':
          description: Success
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                $schema: http://json-schema.org/draft-04/schema#
                title: Create a Self-Employment Period Summary
                description: Create a Self-Employment Period Summary Response
                type: object
                properties:
                  periodId:
                    type: string
                    description: An identifier for the update period, unique to the customer's self-employment business.
                    example: 2017-04-06_2017-07-04
                additionalProperties: false
                required:
                  - periodId
              examples:
                Example response:
                  value:
                    periodId: 2019-07-05_2020-10-05
                    links:
                      - href: /individuals/business/self-employment/TC663795B/XAIS12345678910/period/2019-06-12_2020-06-12
                        rel: amend-self-employment-period-summary
                        method: PUT
                      - href: /individuals/business/self-employment/TC663795B/XAIS12345678910}/period/2019-06-12_2020-06-12
                        rel: self
                        method: GET
                      - href: /individuals/business/self-employment/TC663795B/XAIS12345678910/period
                        rel: list-self-employment-period-summaries
                        method: GET
        '400':
          description: Bad request
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                FORMAT_NINO:
                  description: The format of the supplied NINO field is not valid.
                  value: *ref_11
                FORMAT_VALUE:
                  description: One or more values have been added with the incorrect format.
                  value: *ref_24
                FORMAT_BUSINESS_ID:
                  description: The format of the supplied Business ID field is not valid.
                  value: *ref_13
                FORMAT_START_DATE:
                  description: The format of the supplied Start date field is not valid.
                  value: &ref_38
                    code: FORMAT_START_DATE
                    message: The provided Start date is invalid
                FORMAT_END_DATE:
                  description: The format of the supplied End date field is not valid.
                  value: &ref_39
                    code: FORMAT_END_DATE
                    message: The provided End date is invalid
                RULE_END_DATE_BEFORE_START_DATE:
                  description: The End date is earlier than the Start date.
                  value: &ref_40
                    code: RULE_END_DATE_BEFORE_START_DATE
                    message: The supplied accounting period end date is before the start date
                RULE_INCORRECT_OR_EMPTY_BODY_SUBMITTED:
                  description: An empty or non-matching body was submitted.
                  value: *ref_25
                RULE_TAX_YEAR_NOT_SUPPORTED:
                  description: |
                    The specified tax year is not supported.
                    Either the tax year specified is before the minimum tax year value,
                    or it is after the maximum tax year value.
                  value: *ref_14
                RULE_OVERLAPPING_PERIOD:
                  description: Period summary overlaps with any of the existing period summaries.
                  value:
                    code: RULE_OVERLAPPING_PERIOD
                    message: Period summary overlaps with any of the existing period summaries
                RULE_BOTH_EXPENSES_SUPPLIED:
                  description: Both expenses and consolidatedExpenses can not be present at the same time.
                  value: &ref_33
                    code: RULE_BOTH_EXPENSES_SUPPLIED
                    message: Both expenses and consolidatedExpenses can not be present at the same time
                RULE_MISALIGNED_PERIOD:
                  description: Period summary is not within the accounting period.
                  value:
                    code: RULE_MISALIGNED_PERIOD
                    message: Period summary is not within the accounting period
                RULE_NOT_CONTIGUOUS_PERIOD:
                  description: Period summaries are not contiguous.
                  value:
                    code: RULE_NOT_CONTIGUOUS_PERIOD
                    message: Period summaries are not contiguous
                RULE_NOT_ALLOWED_CONSOLIDATED_EXPENSES:
                  description: Consolidated expenses are not allowed if the accumulative turnover amount exceeds the threshold.
                  value: &ref_34
                    code: RULE_NOT_ALLOWED_CONSOLIDATED_EXPENSES
                    message: Consolidated expenses are not allowed if the accumulative turnover amount exceeds the threshold
                RULE_DUPLICATE_SUBMISSION:
                  description: A summary has already been submitted for the period specified.
                  value:
                    code: RULE_DUPLICATE_SUBMISSION
                    message: A summary has already been submitted for the period specified
                RULE_BUSINESS_INCOME_RESTRICTION:
                  description: For customers with ITSA status 'Annual' or a latent business income source, submission period has to be 6 April to 5 April.
                  value:
                    code: RULE_BUSINESS_INCOME_PERIOD_RESTRICTION
                    message: For customers with ITSA status 'Annual' or a latent business income source, submission period has to be 6 April to 5 April
                RULE_INCORRECT_GOV_TEST_SCENARIO:
                  description: The request did not match any available Sandbox data. Check that the supplied Gov-Test-Scenario is correct for this endpoint version. This error will only be returned in the Sandbox environment.
                  value: *ref_16
        '403':
          description: Forbidden
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                CLIENT_OR_AGENT_NOT_AUTHORISED:
                  description: |
                    The client and/or agent is not authorised. This is normally because: the client is not subscribed to MTD, the agent is not subscribed to Agent Services, or the client has not authorised the agent to act on their behalf.
                  value: *ref_17
        '404':
          description: Not Found
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                MATCHING_RESOURCE_NOT_FOUND:
                  description: |
                    The supplied income source could not be found.
                  value: *ref_18
  /individuals/business/self-employment/{nino}/{businessId}/period/{taxYear}:
    get:
      summary: List Self-Employment Period Summaries
      description: |
        This endpoint enables you to retrieve a list of all self-employment update period summaries.
        A National Insurance number and business ID must be provided.

        <strong>Note: This endpoint can only be used for submissions for tax year 2024-25 or earlier.
        New endpoints which support cumulative submission will be provided for tax year 2025-26 onwards</strong>.

        ### Test data
        Scenario simulation using Gov-Test-Scenario headers is only available in the sandbox environment.

        | Header Value (Gov-Test-Scenario)     | Scenario                                                                                                   |
        |--------------------------------------|------------------------------------------------------------------------------------------------------------|
        | N/A - DEFAULT                        | Simulates success response.                                                                                 |
        | NOT_FOUND                            | Simulates the scenario where no data is found.                                                               |
        | TAX_YEAR_NOT_SUPPORTED               | Simulates the scenario where the tax year is not supported.                                                 |
        | STATEFUL                             | Performs a stateful list.                                                                                    |
      tags:
        - Self-Employment Period Summaries
      parameters:
        - name: nino
          in: path
          description: |
            National Insurance number, in the format `AA999999A`
          schema: *ref_6
          required: true
        - name: businessId
          in: path
          description: |
            An identifier for the business, unique to the customer.<p>Must conform to the regular expression `^X[A-Z0-9]{1}IS[0-9]{11}$`
          schema: *ref_7
          required: true
        - name: taxYear
          in: path
          description: |
            The tax year to which the data applies in the format YYYY-YY. The start year and end year must not span two tax years. The minimum tax year is 2017-18. No gaps are allowed, for example, 2022-24 is not valid.'
          schema: *ref_8
          required: true
        - name: Accept
          in: header
          description: |
            Specifies the response format and the version of the API to be used.
          schema: *ref_9
          required: true
        - name: Authorization
          in: header
          description: |
            An OAuth 2.0 Bearer Token with the *read:self-assessment* scope.
          schema: *ref_26
          required: true
        - name: Gov-Test-Scenario
          in: header
          description: |
            Only in sandbox environment. See Test Data table for all header values.
          schema: *ref_10
          required: false
      security:
        - User-Restricted:
            - read:self-assessment
      responses:
        '200':
          description: Success
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                $schema: http://json-schema.org/draft-04/schema#
                title: Before TY 2025-26
                description: List Self-Employment Period Summaries Response
                type: object
                properties:
                  periods:
                    type: array
                    items:
                      type: object
                      description: Details about Self-Employment periods.
                      properties:
                        periodId:
                          description: Concatenated period start and end dates.
                          type: string
                          example: 2017-04-06_2017-07-04
                        periodStartDate:
                          description: 'The first day that the income, expenses and deduction period summary covers. Must conform to the format: YYYY-MM-DD'
                          type: string
                          example: '2020-01-01'
                        periodEndDate:
                          description: 'The last day that the income, expenses and deduction period summary covers. Must conform to the format: YYYY-MM-DD'
                          type: string
                          example: '2020-01-01'
                      required:
                        - periodId
                        - periodStartDate
                        - periodEndDate
                    additionalProperties: false
                required:
                  - periods
                additionalProperties: false
              examples:
                Example response:
                  value:
                    periods:
                      - periodId: 2017-07-06_2017-10-05
                        periodStartDate: '2017-07-06'
                        periodEndDate: '2017-10-05'
                      - periodId: 2017-10-06_2018-01-05
                        periodStartDate: '2017-10-06'
                        periodEndDate: '2018-01-05'
        '400':
          description: Bad request
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                FORMAT_NINO:
                  description: The format of the supplied NINO field is not valid.
                  value: *ref_11
                FORMAT_TAX_YEAR:
                  description: The format of the supplied taxYear field is not valid.
                  value: *ref_12
                FORMAT_BUSINESS_ID:
                  description: The format of the supplied Business ID field is not valid.
                  value: *ref_13
                RULE_TAX_YEAR_NOT_SUPPORTED:
                  description: |
                    The specified tax year is not supported.
                    Either the tax year specified is before the minimum tax year value,
                    or it is after the maximum tax year value.
                  value: *ref_14
                RULE_TAX_YEAR_RANGE_INVALID:
                  description: Tax year range invalid. A tax year range of one year is required.
                  value: *ref_15
                INVALID_TAX_YEAR_PARAMETER:
                  description: |
                    A tax year before 2023-24 was supplied.
                    A request with a tax year parameter is only valid for tax years 2023-24 or later.
                  value: &ref_35
                    code: INVALID_TAX_YEAR_PARAMETER
                    message: A tax year before 2023-24 was supplied
                RULE_INCORRECT_GOV_TEST_SCENARIO:
                  description: The request did not match any available Sandbox data. Check that the supplied Gov-Test-Scenario is correct for this endpoint version. This error will only be returned in the Sandbox environment.
                  value: *ref_16
        '403':
          description: Forbidden
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                CLIENT_OR_AGENT_NOT_AUTHORISED:
                  description: |
                    The client and/or agent is not authorised. This is normally because: the client is not subscribed to MTD, the agent is not subscribed to Agent Services, or the client has not authorised the agent to act on their behalf.
                  value: *ref_17
        '404':
          description: Not Found
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                MATCHING_RESOURCE_NOT_FOUND:
                  description: |
                    The supplied income source could not be found.
                  value: *ref_18
  /individuals/business/self-employment/{nino}/{businessId}/period/{taxYear}/{periodId}:
    put:
      summary: Amend a Self-Employment Period Summary
      security:
        - User-Restricted:
            - write:self-assessment
      description: |
        This endpoint enables you to amend a self-employment period summary.
        Submissions must include values for incomes, expenses and deductions, even if the values are zero.
        The periodExpenses object may contain either a consolidatedExpenses element, or a mixture of the other expenses elements.
        A National Insurance number, business ID and period ID must be provided.

        <strong>Note: This endpoint can only be used for submissions for tax year 2024-25 or earlier.
        New endpoints which support cumulative submission will be provided for tax year 2025-26 onwards</strong>.

        ### Test data
        Scenario simulation using Gov-Test-Scenario headers is only available in the sandbox environment.

        | Header Value (Gov-Test-Scenario)             | Scenario                                                                                                    |
        |----------------------------------------------|-------------------------------------------------------------------------------------------------------------|
        | N/A - DEFAULT                                | Simulates success response with full expenses.                                                              |
        | NOT_ALLOWED_CONSOLIDATED_EXPENSES            | Simulates the scenario where the cumulative turnover amount exceeds the consolidated expenses threshold.    |
        | NOT_FOUND                                    | Simulates the scenario where no data is found.                                                              |
        | TAX_YEAR_NOT_SUPPORTED                       | Simulates the scenario where the tax year is not supported.                                                 |
        | BOTH_EXPENSES_SUPPLIED                       | Simulates the scenario where both expenses and consolidatedExpenses are present at the same time.           |
        | STATEFUL                                     | Performs a stateful update.                                                                                 |
      tags:
        - Self-Employment Period Summaries
      parameters:
        - name: nino
          in: path
          description: |
            National Insurance number, in the format `AA999999A`
          schema: *ref_6
          required: true
        - name: businessId
          in: path
          description: |
            An identifier for the business, unique to the customer.<p>Must conform to the regular expression `^X[A-Z0-9]{1}IS[0-9]{11}$`
          schema: *ref_7
          required: true
        - name: taxYear
          in: path
          description: |
            The tax year to which the data applies in the format YYYY-YY. The start year and end year must not span two tax years. The minimum tax year is 2017-18. No gaps are allowed, for example, 2022-24 is not valid.'
          schema: *ref_8
          required: true
        - name: periodId
          in: path
          description: |
            An identifier for the update period, unique to the customer's self-employment business.
          schema: &ref_36
            type: string
            example: 2019-01-25_2020-01-25
          required: true
        - name: Accept
          in: header
          description: |
            Specifies the response format and the version of the API to be used.
          schema: *ref_9
          required: true
        - name: Content-Type
          in: header
          description: |
            Specifies the format of the request body, which must be JSON.
          schema: *ref_21
          required: true
        - name: Authorization
          in: header
          description: |
            An OAuth 2.0 Bearer Token with the *write:self-assessment* scope.
          schema: *ref_19
          required: true
        - name: Gov-Test-Scenario
          in: header
          description: |
            Only in sandbox environment. See Test Data table for all header values.
          schema: *ref_10
          required: false
      requestBody:
        content:
          application/json:
            schema:
              oneOf:
                - $schema: http://json-schema.org/draft-04/schema#
                  title: Before TY 2023-24
                  description: Amend a Self-Employment Period Summary Request
                  type: object
                  properties:
                    periodIncome:
                      $schema: http://json-schema.org/draft-04/schema#
                      type: object
                      description: Object containing the details about self-employment income.
                      properties: *ref_27
                      additionalProperties: false
                    periodExpenses:
                      $schema: http://json-schema.org/draft-04/schema#
                      type: object
                      description: Object containing the details about self-employment expenses.
                      properties: *ref_28
                      additionalProperties: false
                    periodDisallowableExpenses:
                      $schema: http://json-schema.org/draft-04/schema#
                      type: object
                      description: Object containing the details about self-employment disallowable expenses that cannot be claimed for tax purposes.
                      properties: *ref_29
                      additionalProperties: false
                  additionalProperties: false
                - $schema: http://json-schema.org/draft-04/schema#
                  title: TY 2023-24 and 2024-25
                  description: Amend a Self-Employment Period Summary Request
                  type: object
                  properties:
                    periodIncome:
                      $schema: http://json-schema.org/draft-04/schema#
                      type: object
                      description: Object containing the details about self-employment income.
                      properties: *ref_30
                      additionalProperties: false
                    periodExpenses:
                      $schema: http://json-schema.org/draft-04/schema#
                      type: object
                      description: Object containing the details about self-employment expenses.
                      properties: *ref_31
                      additionalProperties: false
                    periodDisallowableExpenses:
                      $schema: http://json-schema.org/draft-04/schema#
                      type: object
                      description: Object containing the details about self-employment disallowable expenses that cannot be claimed for tax purposes.
                      properties: *ref_32
                      additionalProperties: false
                  additionalProperties: false
            examples:
              Non-consolidated request for TY 2023-24 and 2024-25:
                value:
                  periodIncome:
                    turnover: 1000.99
                    other: 1000.99
                    taxTakenOffTradingIncome: 1000.99
                  periodExpenses:
                    costOfGoods: 1000.99
                    paymentsToSubcontractors: -1000.99
                    wagesAndStaffCosts: -1000.99
                    carVanTravelExpenses: -1000.99
                    premisesRunningCosts: 1000.99
                    maintenanceCosts: 1000.99
                    adminCosts: -1000.99
                    businessEntertainmentCosts: -1000.99
                    advertisingCosts: -1000.99
                    interestOnBankOtherLoans: 1000.99
                    financeCharges: 1000.99
                    irrecoverableDebts: 1000.99
                    professionalFees: 1000.99
                    depreciation: 1000.99
                    otherExpenses: 1000.99
                  periodDisallowableExpenses:
                    costOfGoodsDisallowable: -1000.99
                    paymentsToSubcontractorsDisallowable: -1000.99
                    wagesAndStaffCostsDisallowable: -1000.99
                    carVanTravelExpensesDisallowable: -1000.99
                    premisesRunningCostsDisallowable: 1000.99
                    maintenanceCostsDisallowable: 1000.99
                    adminCostsDisallowable: -1000.99
                    businessEntertainmentCostsDisallowable: -1000.99
                    advertisingCostsDisallowable: -1000.99
                    interestOnBankOtherLoansDisallowable: 1000.99
                    financeChargesDisallowable: 1000.99
                    irrecoverableDebtsDisallowable: 1000.99
                    professionalFeesDisallowable: 1000.99
                    depreciationDisallowable: 1000.99
                    otherExpensesDisallowable: -1000.99
              Consolidated request for TY 2023-24 and 2024-25:
                value:
                  periodIncome:
                    turnover: 1000.99
                    other: 1000.99
                    taxTakenOffTradingIncome: 1000.99
                  periodExpenses:
                    consolidatedExpenses: -1000.99
              Non-consolidated request for TY 2022-23 and before:
                value:
                  periodIncome:
                    turnover: 1000.99
                    other: 1000.99
                  periodExpenses:
                    costOfGoods: 1000.99
                    paymentsToSubcontractors: 1000.99
                    wagesAndStaffCosts: 1000.99
                    carVanTravelExpenses: 1000.99
                    premisesRunningCosts: 1000.99
                    maintenanceCosts: 1000.99
                    adminCosts: 1000.99
                    businessEntertainmentCosts: 1000.99
                    advertisingCosts: 1000.99
                    interestOnBankOtherLoans: 1000.99
                    financeCharges: 1000.99
                    irrecoverableDebts: 1000.99
                    professionalFees: 1000.99
                    depreciation: 1000.99
                    otherExpenses: 1000.99
                  periodDisallowableExpenses:
                    costOfGoodsDisallowable: 1000.99
                    paymentsToSubcontractorsDisallowable: 1000.99
                    wagesAndStaffCostsDisallowable: 1000.99
                    carVanTravelExpensesDisallowable: 1000.99
                    premisesRunningCostsDisallowable: 1000.99
                    maintenanceCostsDisallowable: 1000.99
                    adminCostsDisallowable: 1000.99
                    businessEntertainmentCostsDisallowable: 1000.99
                    advertisingCostsDisallowable: 1000.99
                    interestOnBankOtherLoansDisallowable: 1000.99
                    financeChargesDisallowable: 1000.99
                    irrecoverableDebtsDisallowable: 1000.99
                    professionalFeesDisallowable: 1000.99
                    depreciationDisallowable: 1000.99
                    otherExpensesDisallowable: 1000.99
              Consolidated request for TY 2022-23 and before:
                value:
                  periodIncome:
                    turnover: 1000.99
                    other: 1000.99
                  periodExpenses:
                    consolidatedExpenses: 1000.99
      responses:
        '204':
          description: Success (No Content)
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
        '400':
          description: Bad request
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                FORMAT_NINO:
                  description: The format of the supplied NINO field is not valid.
                  value: *ref_11
                FORMAT_TAX_YEAR:
                  description: The format of the supplied taxYear field is not valid.
                  value: *ref_12
                FORMAT_VALUE:
                  description: One or more values have been added with the incorrect format.
                  value: *ref_24
                FORMAT_BUSINESS_ID:
                  description: The format of the supplied Business ID field is not valid.
                  value: *ref_13
                FORMAT_PERIOD_ID:
                  description: The format of the supplied Period ID field is not valid.
                  value: &ref_37
                    code: FORMAT_PERIOD_ID
                    message: The provided Period ID is invalid
                RULE_INCORRECT_OR_EMPTY_BODY_SUBMITTED:
                  description: An empty or non-matching body was submitted.
                  value: *ref_25
                RULE_TAX_YEAR_NOT_SUPPORTED:
                  description: |
                    The specified tax year is not supported.
                    Either the tax year specified is before the minimum tax year value,
                    or it is after the maximum tax year value.
                  value: *ref_14
                RULE_BOTH_EXPENSES_SUPPLIED:
                  description: Both expenses and consolidatedExpenses can not be present at the same time.
                  value: *ref_33
                RULE_NOT_ALLOWED_CONSOLIDATED_EXPENSES:
                  description: Consolidated expenses are not allowed if the accumulative turnover amount exceeds the threshold.
                  value: *ref_34
                RULE_TAX_YEAR_RANGE_INVALID:
                  description: Tax year range invalid. A tax year range of one year is required.
                  value: *ref_15
                INVALID_TAX_YEAR_PARAMETER:
                  description: |
                    A tax year before 2023-24 was supplied.
                    A request with a tax year parameter is only valid for tax years 2023-24 or later.
                  value: *ref_35
                RULE_INCORRECT_GOV_TEST_SCENARIO:
                  description: The request did not match any available Sandbox data. Check that the supplied Gov-Test-Scenario is correct for this endpoint version. This error will only be returned in the Sandbox environment.
                  value: *ref_16
        '403':
          description: Forbidden
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                CLIENT_OR_AGENT_NOT_AUTHORISED:
                  description: |
                    The client and/or agent is not authorised. This is normally because: the client is not subscribed to MTD, the agent is not subscribed to Agent Services, or the client has not authorised the agent to act on their behalf.
                  value: *ref_17
        '404':
          description: Not Found
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                MATCHING_RESOURCE_NOT_FOUND:
                  description: |
                    The supplied income source could not be found.
                  value: *ref_18
    get:
      summary: Retrieve a Self-Employment Period Summary
      security:
        - User-Restricted:
            - read:self-assessment
      description: |
        This endpoint enables you to retrieve a single self-employment period summary for a given identifier.
        A National Insurance number, business ID and period ID must be provided.

        <strong>Note: This endpoint can only be used for submissions for tax year 2024-25 or earlier.
        New endpoints which support cumulative submission will be provided for tax year 2025-26 onwards</strong>.

        ### Test data
        Scenario simulation using Gov-Test-Scenario headers is only available in the sandbox environment.

        | Header Value (Gov-Test-Scenario)     | Scenario                                                                                                                                              |
        |--------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------|
        | N/A - DEFAULT                        | Simulates success response.                                                                                                                           |
        | CONSOLIDATED_EXPENSES                | Simulates success response with consolidatedExpenses.                                                                                                 |
        | NOT_FOUND                            | Simulates the scenario where no data is found.                                                                                                        |
        | TAX_YEAR_NOT_SUPPORTED               | Simulates the scenario where the tax year is not supported.                                                                                           |
        | STATEFUL                             | Performs a stateful retrieve.                                                                                                                         |
        | DYNAMIC                              | The following response values will change to correspond to the values submitted in the request: <br/> • periodStartDate <br/> • periodEndDate         |
      tags:
        - Self-Employment Period Summaries
      parameters:
        - name: nino
          in: path
          description: |
            National Insurance number, in the format `AA999999A`
          schema: *ref_6
          required: true
        - name: businessId
          in: path
          description: |
            An identifier for the business, unique to the customer.<p>Must conform to the regular expression `^X[A-Z0-9]{1}IS[0-9]{11}$`
          schema: *ref_7
          required: true
        - name: taxYear
          in: path
          description: |
            The tax year to which the data applies in the format YYYY-YY. The start year and end year must not span two tax years. The minimum tax year is 2017-18. No gaps are allowed, for example, 2022-24 is not valid.'
          schema: *ref_8
          required: true
        - name: periodId
          in: path
          description: |
            An identifier for the update period, unique to the customer's self-employment business.
          schema: *ref_36
          required: true
        - name: Accept
          in: header
          description: |
            Specifies the response format and the version of the API to be used.
          schema: *ref_9
          required: true
        - name: Authorization
          in: header
          description: |
            An OAuth 2.0 Bearer Token with the *read:self-assessment* scope.
          schema: *ref_26
          required: true
        - name: Gov-Test-Scenario
          in: header
          description: |
            Only in sandbox environment. See Test Data table for all header values.
          schema: *ref_10
          required: false
      responses:
        '200':
          description: Success
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                oneOf:
                  - $schema: http://json-schema.org/draft-04/schema#
                    title: Before TY 2023-24
                    description: Retrieves a self-employment period summary.
                    type: object
                    properties:
                      periodDates:
                        $schema: http://json-schema.org/draft-04/schema#
                        type: object
                        description: Object containing the details about self-employment period dates.
                        properties: *ref_22
                        additionalProperties: false
                        required: *ref_23
                      periodIncome:
                        $schema: http://json-schema.org/draft-04/schema#
                        type: object
                        description: Object containing the details about self-employment income.
                        properties: *ref_27
                        additionalProperties: false
                      periodExpenses:
                        $schema: http://json-schema.org/draft-04/schema#
                        type: object
                        description: Object containing the details about self-employment expenses.
                        properties: *ref_28
                        additionalProperties: false
                      periodDisallowableExpenses:
                        $schema: http://json-schema.org/draft-04/schema#
                        type: object
                        description: Object containing the details about self-employment disallowable expenses that cannot be claimed for tax purposes.
                        properties: *ref_29
                        additionalProperties: false
                    required:
                      - periodDates
                    additionalProperties: false
                  - $schema: http://json-schema.org/draft-04/schema#
                    title: TY 2023-24 and 2024-25
                    description: Retrieves a self-employment period summary.
                    type: object
                    properties:
                      periodDates:
                        $schema: http://json-schema.org/draft-04/schema#
                        type: object
                        description: Object containing the details about self-employment period dates.
                        properties: *ref_22
                        additionalProperties: false
                        required: *ref_23
                      periodIncome:
                        $schema: http://json-schema.org/draft-04/schema#
                        type: object
                        description: Object containing the details about self-employment income.
                        properties: *ref_30
                        additionalProperties: false
                      periodExpenses:
                        $schema: http://json-schema.org/draft-04/schema#
                        type: object
                        description: Object containing the details about self-employment expenses.
                        properties: *ref_31
                        additionalProperties: false
                      periodDisallowableExpenses:
                        $schema: http://json-schema.org/draft-04/schema#
                        type: object
                        description: Object containing the details about self-employment disallowable expenses that cannot be claimed for tax purposes.
                        properties: *ref_32
                        additionalProperties: false
                    required:
                      - periodDates
                    additionalProperties: false
              examples:
                Non-consolidated response for TY 2023-24 and 2024-25:
                  value:
                    periodDates:
                      periodStartDate: '2019-04-06'
                      periodEndDate: '2019-07-05'
                    periodIncome:
                      turnover: 200
                      other: 200
                      taxTakenOffTradingIncome: 1000.99
                    periodExpenses:
                      costOfGoods: 200
                      paymentsToSubcontractors: -200
                      wagesAndStaffCosts: -200
                      carVanTravelExpenses: -200
                      premisesRunningCosts: 200
                      maintenanceCosts: 200
                      adminCosts: -200
                      businessEntertainmentCosts: -200
                      advertisingCosts: -200
                      interestOnBankOtherLoans: 200
                      financeCharges: 200
                      irrecoverableDebts: 200
                      professionalFees: 200
                      depreciation: 200
                      otherExpenses: -200
                    periodDisallowableExpenses:
                      costOfGoodsDisallowable: 200
                      paymentsToSubcontractorsDisallowable: -200
                      wagesAndStaffCostsDisallowable: -200
                      carVanTravelExpensesDisallowable: -200
                      premisesRunningCostsDisallowable: 200
                      maintenanceCostsDisallowable: 200
                      adminCostsDisallowable: -200
                      businessEntertainmentCostsDisallowable: -200
                      advertisingCostsDisallowable: -200
                      interestOnBankOtherLoansDisallowable: 200
                      financeChargesDisallowable: 200
                      irrecoverableDebtsDisallowable: 200
                      professionalFeesDisallowable: 200
                      depreciationDisallowable: 200
                      otherExpensesDisallowable: -200
                    links:
                      - href: /individuals/business/self-employment/TC663795B/XAIS12345678910/period/2019-06-12_2020-06-12
                        rel: amend-self-employment-period-summary
                        method: PUT
                      - href: /individuals/business/self-employment/TC663795B/XAIS12345678910/period/2019-06-12_2020-06-12
                        rel: self
                        method: GET
                      - href: /individuals/business/self-employment/TC663795B/XAIS12345678910/period
                        rel: list-self-employment-period-summaries
                        method: GET
                Consolidated response for TY 2023-24 and 2024-25:
                  value:
                    periodDates:
                      periodStartDate: '2019-07-06'
                      periodEndDate: '2019-10-05'
                    periodIncome:
                      turnover: 200
                      other: 200
                      taxTakenOffTradingIncome: 1000.99
                    periodExpenses:
                      consolidatedExpenses: -200
                    links:
                      - href: /individuals/business/self-employment/TC663795B/XAIS12345678910/period/2019-06-12_2020-06-12
                        rel: amend-self-employment-period-summary
                        method: PUT
                      - href: /individuals/business/self-employment/TC663795B/XAIS12345678910/period/2019-06-12_2020-06-12
                        rel: self
                        method: GET
                      - href: /individuals/business/self-employment/TC663795B/XAIS12345678910/period
                        rel: list-self-employment-period-summaries
                        method: GET
                Non-consolidated response for TY 2022-23 and before:
                  value:
                    periodDates:
                      periodStartDate: '2019-04-06'
                      periodEndDate: '2019-07-05'
                    periodIncome:
                      turnover: 200
                      other: 200
                    periodExpenses:
                      costOfGoods: 200
                      paymentsToSubcontractors: 200
                      wagesAndStaffCosts: 200
                      carVanTravelExpenses: 200
                      premisesRunningCosts: 200
                      maintenanceCosts: 200
                      adminCosts: 200
                      businessEntertainmentCosts: 200
                      advertisingCosts: 200
                      interestOnBankOtherLoans: 200
                      financeCharges: 200
                      irrecoverableDebts: 200
                      professionalFees: 200
                      depreciation: 200
                      otherExpenses: 200
                    periodDisallowableExpenses:
                      costOfGoodsDisallowable: 200
                      paymentsToSubcontractorsDisallowable: 200
                      wagesAndStaffCostsDisallowable: 200
                      carVanTravelExpensesDisallowable: 200
                      premisesRunningCostsDisallowable: 200
                      maintenanceCostsDisallowable: 200
                      adminCostsDisallowable: 200
                      businessEntertainmentCostsDisallowable: 200
                      advertisingCostsDisallowable: 200
                      interestOnBankOtherLoansDisallowable: 200
                      financeChargesDisallowable: 200
                      irrecoverableDebtsDisallowable: 200
                      professionalFeesDisallowable: 200
                      depreciationDisallowable: 200
                      otherExpensesDisallowable: 200
                    links:
                      - href: /individuals/business/self-employment/TC663795B/XAIS12345678910/period/2019-06-12_2020-06-12
                        rel: amend-self-employment-period-summary
                        method: PUT
                      - href: /individuals/business/self-employment/TC663795B/XAIS12345678910/period/2019-06-12_2020-06-12
                        rel: self
                        method: GET
                      - href: /individuals/business/self-employment/TC663795B/XAIS12345678910/period
                        rel: list-self-employment-period-summaries
                        method: GET
                Consolidated response for TY 2022-23 and before:
                  value:
                    periodDates:
                      periodStartDate: '2019-04-06'
                      periodEndDate: '2019-07-05'
                    periodIncome:
                      turnover: 200
                      other: 200
                    periodExpenses:
                      consolidatedExpenses: 200
                    links:
                      - href: /individuals/business/self-employment/TC663795B/XAIS12345678910/period/2019-06-12_2020-06-12
                        rel: amend-self-employment-period-summary
                        method: PUT
                      - href: /individuals/business/self-employment/TC663795B/XAIS12345678910/period/2019-06-12_2020-06-12
                        rel: self
                        method: GET
                      - href: /individuals/business/self-employment/TC663795B/XAIS12345678910/period
                        rel: list-self-employment-period-summaries
                        method: GET
        '400':
          description: Bad request
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                FORMAT_NINO:
                  description: The format of the supplied NINO field is not valid.
                  value: *ref_11
                FORMAT_TAX_YEAR:
                  description: The format of the supplied taxYear field is not valid.
                  value: *ref_12
                FORMAT_BUSINESS_ID:
                  description: The format of the supplied Business ID field is not valid.
                  value: *ref_13
                FORMAT_PERIOD_ID:
                  description: The format of the supplied Period ID field is not valid.
                  value: *ref_37
                RULE_TAX_YEAR_NOT_SUPPORTED:
                  description: |
                    The specified tax year is not supported.
                    Either the tax year specified is before the minimum tax year value,
                    or it is after the maximum tax year value.
                  value: *ref_14
                RULE_TAX_YEAR_RANGE_INVALID:
                  description: Tax year range invalid. A tax year range of one year is required.
                  value: *ref_15
                INVALID_TAX_YEAR_PARAMETER:
                  description: |
                    A tax year before 2023-24 was supplied.
                    A request with a tax year parameter is only valid for tax years 2023-24 or later.
                  value: *ref_35
                RULE_INCORRECT_GOV_TEST_SCENARIO:
                  description: The request did not match any available Sandbox data. Check that the supplied Gov-Test-Scenario is correct for this endpoint version. This error will only be returned in the Sandbox environment.
                  value: *ref_16
        '403':
          description: Forbidden
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                CLIENT_OR_AGENT_NOT_AUTHORISED:
                  description: |
                    The client and/or agent is not authorised. This is normally because: the client is not subscribed to MTD, the agent is not subscribed to Agent Services, or the client has not authorised the agent to act on their behalf.
                  value: *ref_17
        '404':
          description: Not Found
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                MATCHING_RESOURCE_NOT_FOUND:
                  description: |
                    The supplied income source could not be found.
                  value: *ref_18
  /individuals/business/self-employment/{nino}/{businessId}/cumulative/{taxYear}:
    put:
      summary: Create and Amend a Self-Employment Cumulative Period Summary
      security:
        - User-Restricted:
            - write:self-assessment
      description: |
        This endpoint enables you to submit the cumulative period income and expenses for a self-employment business that occurred between two dates. A National Insurance number, tax year and business ID are required. <strong>Please note that this endpoint is only available for tax years starting from 2025-26</strong>.

        <strong>Note: Submissions must include values for income and expenses, even if the values are zero. For example, if there is no income for the period, submit a periodIncome object with 'turnover' and 'other' values of zero.</strong>.

        ### Test Data
        Scenario simulation using Gov-Test-Scenario headers is only available in the sandbox environment.

        | Header Value (Gov-Test-Scenario)            | Scenario                                                                                            |
        |---------------------------------------------|-----------------------------------------------------------------------------------------------------|
        | N/A - DEFAULT                               | Simulates success response.                                                                         |
        | NOT_FOUND                                   | Simulates the scenario where no data is found.                                                      | 
        | TAX_YEAR_NOT_SUPPORTED                      | Simulates the scenario where the tax year is not supported.                                         |
        | BOTH_EXPENSES_SUPPLIED                      | Simulates the scenario where both expenses and consolidatedExpenses are present at the same time.   |
        | STATEFUL                                    | Performs a stateful create or update based on a user’s ITSA status and income source. Both <strong>standard</strong> and <strong>calendar</strong> updates are supported.<br/></br>For these submissions, a self-employment test business must be created using the <strong>Create a Test Business</strong> endpoint in the [Self Assessment Test Support API](/api-documentation/docs/api/service/mtd-sa-test-support-api).<br/></br>For <strong>annual</strong> or <strong>latent</strong> submissions:<ul><li>A test business with a latency end date that falls within the requested tax year can be created using the <strong>Create a Test Business</strong> endpoint.</li><li>An annual ITSA status for a customer can be created using the <strong>Create and Amend Test ITSA Status</strong> endpoint.</li></ul><strong>Note: Most business validation rule errors can be triggered, however due to testing limitations some edge cases are not supported.</strong>| 
        | START_DATE_NOT_ALIGNED_TO_COMMENCEMENT_DATE | Simulates the scenario where Start Date does not align to the commencement date.                    |
        | END_DATE_NOT_ALIGNED_WITH_REPORTING_TYPE    | Simulates the scenario where End date does not align to the reporting type.                         |
        | MISSING_SUBMISSION_DATES                    | Simulates the scenario where Submission start/end date not provided.                                |
        | START_AND_END_DATE_NOT_ALLOWED              | Simulates the scenario where Start/End Date not accepted for annual/latent submission.              |
        | EARLY_DATA_SUBMISSION_NOT_ACCEPTED          | Simulates the scenario where individuals cannot submit data more than 10 days before end of Period. |
        | OUTSIDE_AMENDMENT_WINDOW                    | Simulates the scenario where request cannot be completed as it is outside the amendment window.     |
        | ADVANCE_SUBMISSION_REQUIRES_PERIOD_END_DATE | Simulates the scenario for advance submission where the end date must be the end of the period.     |
        | SUBMISSION_END_DATE_CANNOT_MOVE_BACKWARDS   | Simulates the scenario where the submission end date cannot be earlier than existing submission.    |
        | START_DATE_NOT_ALIGNED_WITH_REPORTING_TYPE  | Simulates the scenario where the start date does not align with the reporting type.                 |
      tags:
        - Self-Employment Cumulative Period Summary
      parameters:
        - name: nino
          in: path
          description: |
            National Insurance number, in the format `AA999999A`
          schema: *ref_6
          required: true
        - name: businessId
          in: path
          description: |
            An identifier for the business, unique to the customer.<p>Must conform to the regular expression `^X[A-Z0-9]{1}IS[0-9]{11}$`
          schema: *ref_7
          required: true
        - name: taxYear
          in: path
          description: |
            The tax year to which the data applies. The start year and end year must not span two tax years.
            The minimum tax year is 2025-26. No gaps are allowed, for example, 2025-27 is not valid.
          schema: &ref_41
            type: string
            example: 2025-26
          required: true
        - name: Accept
          in: header
          description: |
            Specifies the response format and the version of the API to be used.
          schema: *ref_9
          required: true
        - name: Content-Type
          in: header
          description: |
            Specifies the format of the request body, which must be JSON.
          schema: *ref_21
          required: true
        - name: Authorization
          in: header
          description: |
            An OAuth 2.0 Bearer Token with the *write:self-assessment* scope.
          schema: *ref_19
          required: true
        - name: Gov-Test-Scenario
          in: header
          description: |
            Only in sandbox environment. See Test Data table for all header values.
          schema: *ref_10
          required: false
      requestBody:
        content:
          applicaton/json:
            schema:
              $schema: http://json-schema.org/draft-04/schema#
              title: TY 2025-26 and after
              description: Create and Amend a Self-Employment Cumulative Period Summary
              type: object
              properties:
                periodDates:
                  type: object
                  description: Object containing the details about self-employment period dates.
                  properties:
                    periodStartDate:
                      description: |-
                        The first day that the income, expenses and deduction summary covers. Must conform to the format: YYYY-MM-DD.

                        For users with ITSA status of 'annual' or a latent income source, these dates are not required. Endpoint will default the start and end dates to the tax year start and end dates. Default value: 06/04/TY -> 05/04/TY+1
                      type: string
                      example: '2025-04-06'
                      format: date
                    periodEndDate:
                      description: |-
                        The last day that the income, expenses and deduction summary covers. Must conform to the format: YYYY-MM-DD.

                        For users with ITSA status of 'annual' or a latent income source, these dates are not required. Endpoint will default the start and end dates to the tax year start and end dates. Default value: 06/04/TY -> 05/04/TY+1
                      type: string
                      example: '2025-07-05'
                      format: date
                  required:
                    - periodStartDate
                    - periodEndDate
                  additionalProperties: false
                periodIncome:
                  type: object
                  description: Object containing the details about self-employment income.
                  properties:
                    turnover:
                      description: The takings, fees, sales or money earned by your business. Income associated with the running of the business. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                      type: number
                      multipleOf: 0.01
                      minimum: 0
                      maximum: 99999999999.99
                      example: 10000
                    other:
                      description: Any other business income not included in turnover. Income associated with the running of the business. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                      type: number
                      multipleOf: 0.01
                      minimum: 0
                      maximum: 99999999999.99
                      example: 10000
                    taxTakenOffTradingIncome:
                      description: Other tax taken off trading income apart from CIS deductions. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                      type: number
                      multipleOf: 0.01
                      minimum: 0
                      maximum: 99999999999.99
                      example: 10000
                  additionalProperties: false
                periodExpenses:
                  type: object
                  description: Object containing the details about self-employment expenses.
                  properties:
                    consolidatedExpenses:
                      description: The sum of all allowable expenses for the specified period. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                      type: number
                      multipleOf: 0.01
                      minimum: -99999999999.99
                      maximum: 99999999999.99
                      example: 10000
                    costOfGoods:
                      description: Cost of goods bought for resale or goods used. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                      type: number
                      multipleOf: 0.01
                      minimum: -99999999999.99
                      maximum: 99999999999.99
                      example: 10000
                    paymentsToSubcontractors:
                      description: Payments to construction Industry subcontractors. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                      type: number
                      multipleOf: 0.01
                      minimum: -99999999999.99
                      maximum: 99999999999.99
                      example: 10000
                    wagesAndStaffCosts:
                      description: Wages, salaries and other staff costs. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                      type: number
                      multipleOf: 0.01
                      minimum: -99999999999.99
                      maximum: 99999999999.99
                      example: 10000
                    carVanTravelExpenses:
                      description: Car, van and travel expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                      type: number
                      multipleOf: 0.01
                      minimum: -99999999999.99
                      maximum: 99999999999.99
                      example: 10000.89
                    premisesRunningCosts:
                      description: Rent, rates, power and insurance costs. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                      type: number
                      multipleOf: 0.01
                      minimum: -99999999999.99
                      maximum: 99999999999.99
                      example: 10000.89
                    maintenanceCosts:
                      description: Repairs and renewals of property and equipment. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                      type: number
                      multipleOf: 0.01
                      minimum: -99999999999.99
                      maximum: 99999999999.99
                      example: 10000.89
                    adminCosts:
                      description: Phone, fax, stationery and other office costs. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                      type: number
                      multipleOf: 0.01
                      minimum: -99999999999.99
                      maximum: 99999999999.99
                      example: 10000.89
                    businessEntertainmentCosts:
                      description: Business entertainment costs. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                      type: number
                      multipleOf: 0.01
                      minimum: -99999999999.99
                      maximum: 99999999999.99
                      example: 10000.89
                    advertisingCosts:
                      description: Advertising costs. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                      type: number
                      multipleOf: 0.01
                      minimum: -99999999999.99
                      maximum: 99999999999.99
                      example: 10000.89
                    interestOnBankOtherLoans:
                      description: Interest on bank and other loans. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                      type: number
                      multipleOf: 0.01
                      minimum: -99999999999.99
                      maximum: 99999999999.99
                      example: 10000.89
                    financeCharges:
                      description: Bank, credit card and other financial charges. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                      type: number
                      multipleOf: 0.01
                      minimum: -99999999999.99
                      maximum: 99999999999.99
                      example: 10000.89
                    irrecoverableDebts:
                      description: Irrecoverable debts written off. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                      type: number
                      multipleOf: 0.01
                      minimum: -99999999999.99
                      maximum: 99999999999.99
                      example: 10000.89
                    professionalFees:
                      description: Accountancy, legal and other professional fees. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                      type: number
                      multipleOf: 0.01
                      minimum: -99999999999.99
                      maximum: 99999999999.99
                      example: 10000.89
                    depreciation:
                      description: Depreciation and loss/profit on sales of assets. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                      type: number
                      multipleOf: 0.01
                      minimum: -99999999999.99
                      maximum: 99999999999.99
                      example: 10000.89
                    otherExpenses:
                      description: Other business expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                      type: number
                      multipleOf: 0.01
                      minimum: -99999999999.99
                      maximum: 99999999999.99
                      example: 10000.89
                  additionalProperties: false
                periodDisallowableExpenses:
                  type: object
                  description: Object containing the details about self-employment disallowable expenses, that cannot be claimed for tax purposes.
                  properties:
                    costOfGoodsDisallowable:
                      description: Cost of goods bought for resale or goods used. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                      type: number
                      multipleOf: 0.01
                      minimum: -99999999999.99
                      maximum: 99999999999.99
                      example: 10000.89
                    paymentsToSubcontractorsDisallowable:
                      description: Payments to subcontractors - Construction Industry Scheme (CIS). Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                      type: number
                      multipleOf: 0.01
                      minimum: -99999999999.99
                      maximum: 99999999999.99
                      example: 10000.89
                    wagesAndStaffCostsDisallowable:
                      description: Wages, salaries and other staff costs. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                      type: number
                      multipleOf: 0.01
                      minimum: -99999999999.99
                      maximum: 99999999999.99
                      example: 10000.89
                    carVanTravelExpensesDisallowable:
                      description: Car, van and travel expenses. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                      type: number
                      multipleOf: 0.01
                      minimum: -99999999999.99
                      maximum: 99999999999.99
                      example: 10000.89
                    premisesRunningCostsDisallowable:
                      description: Rent, rates, power and insurance costs. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                      type: number
                      multipleOf: 0.01
                      minimum: -99999999999.99
                      maximum: 99999999999.99
                      example: 10000.89
                    maintenanceCostsDisallowable:
                      description: Repairs and renewals of property and equipment. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                      type: number
                      multipleOf: 0.01
                      minimum: -99999999999.99
                      maximum: 99999999999.99
                      example: 10000.89
                    adminCostsDisallowable:
                      description: Phone, fax, stationery and other office costs. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                      type: number
                      multipleOf: 0.01
                      minimum: -99999999999.99
                      maximum: 99999999999.99
                      example: 10000.89
                    businessEntertainmentCostsDisallowable:
                      description: Business entertainment costs. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                      type: number
                      multipleOf: 0.01
                      minimum: -99999999999.99
                      maximum: 99999999999.99
                      example: 10000.89
                    advertisingCostsDisallowable:
                      description: Advertising costs. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                      type: number
                      multipleOf: 0.01
                      minimum: -99999999999.99
                      maximum: 99999999999.99
                      example: 10000.89
                    interestOnBankOtherLoansDisallowable:
                      description: Interest on bank and other loans. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                      type: number
                      multipleOf: 0.01
                      minimum: -99999999999.99
                      maximum: 99999999999.99
                      example: 10000.89
                    financeChargesDisallowable:
                      description: Bank, credit card and other financial charges. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                      type: number
                      multipleOf: 0.01
                      minimum: -99999999999.99
                      maximum: 99999999999.99
                      example: 10000.89
                    irrecoverableDebtsDisallowable:
                      description: Irrecoverable debts written off. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                      type: number
                      multipleOf: 0.01
                      minimum: -99999999999.99
                      maximum: 99999999999.99
                      example: 10000.89
                    professionalFeesDisallowable:
                      description: Legal and other professional fees. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                      type: number
                      multipleOf: 0.01
                      minimum: -99999999999.99
                      maximum: 99999999999.99
                      example: 10000.89
                    depreciationDisallowable:
                      description: Depreciation and loss/profit on sales of assets. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                      type: number
                      multipleOf: 0.01
                      minimum: -99999999999.99
                      maximum: 99999999999.99
                      example: 10000.89
                    otherExpensesDisallowable:
                      description: Other business expenses. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                      type: number
                      multipleOf: 0.01
                      minimum: -99999999999.99
                      maximum: 99999999999.99
                      example: 10000.89
                  additionalProperties: false
              additionalProperties: false
            examples:
              Non-consolidated request:
                value:
                  periodDates:
                    periodStartDate: '2025-04-06'
                    periodEndDate: '2025-07-05'
                  periodIncome:
                    turnover: 1000.99
                    other: 1000.09
                    taxTakenOffTradingIncome: 1000.99
                  periodExpenses:
                    costOfGoods: 1000.99
                    paymentsToSubcontractors: 1000.99
                    wagesAndStaffCosts: 1000.99
                    carVanTravelExpenses: 1000.99
                    premisesRunningCosts: -1000.99
                    maintenanceCosts: -1000.99
                    adminCosts: 1000.99
                    businessEntertainmentCosts: 1000.99
                    advertisingCosts: 1000.99
                    interestOnBankOtherLoans: -1000.99
                    financeCharges: -1000.99
                    irrecoverableDebts: -1000.99
                    professionalFees: 1000.99
                    depreciation: -1000.99
                    otherExpenses: 1000.99
                  periodDisallowableExpenses:
                    costOfGoodsDisallowable: 91000.99
                    paymentsToSubcontractorsDisallowable: 1000.99
                    wagesAndStaffCostsDisallowable: 1000.99
                    carVanTravelExpensesDisallowable: 1000.99
                    premisesRunningCostsDisallowable: -1000.99
                    maintenanceCostsDisallowable: -999.99
                    adminCostsDisallowable: 1000.99
                    businessEntertainmentCostsDisallowable: 1000.99
                    advertisingCostsDisallowable: 1000.99
                    interestOnBankOtherLoansDisallowable: -1000.99
                    financeChargesDisallowable: -1000.99
                    irrecoverableDebtsDisallowable: 1000.99
                    professionalFeesDisallowable: 1000.99
                    depreciationDisallowable: -1000.99
                    otherExpensesDisallowable: 1000.99
              Consolidated request:
                value:
                  periodDates:
                    periodStartDate: '2025-04-06'
                    periodEndDate: '2025-07-05'
                  periodIncome:
                    turnover: 1000.99
                    other: 1000.09
                    taxTakenOffTradingIncome: 1000.99
                  periodExpenses:
                    consolidatedExpenses: 1000.99
      responses:
        '204':
          description: Success (No Content)
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
        '400':
          description: Bad request
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                FORMAT_NINO:
                  description: The format of the supplied NINO field is not valid.
                  value: *ref_11
                FORMAT_TAX_YEAR:
                  description: The format of the supplied taxYear field is not valid.
                  value: *ref_12
                FORMAT_BUSINESS_ID:
                  description: The format of the supplied Business ID field is not valid.
                  value: *ref_13
                FORMAT_VALUE:
                  description: One or more values have been added with the incorrect format.
                  value: *ref_24
                FORMAT_START_DATE:
                  description: The format of the supplied Start date field is not valid.
                  value: *ref_38
                FORMAT_END_DATE:
                  description: The format of the supplied End date field is not valid.
                  value: *ref_39
                RULE_END_DATE_BEFORE_START_DATE:
                  description: The End date is earlier than the Start date.
                  value: *ref_40
                RULE_INCORRECT_OR_EMPTY_BODY_SUBMITTED:
                  description: An empty or non-matching body was submitted.
                  value: *ref_25
                RULE_TAX_YEAR_NOT_SUPPORTED:
                  description: |
                    The specified tax year is not supported.
                    Either the tax year specified is before the minimum tax year value,
                    or it is after the maximum tax year value.
                  value: *ref_14
                RULE_TAX_YEAR_RANGE_INVALID:
                  description: Tax year range invalid. A tax year range of one year is required.
                  value: *ref_15
                RULE_BOTH_EXPENSES_SUPPLIED:
                  description: Both expenses and consolidatedExpenses can not be present at the same time.
                  value: *ref_33
                RULE_INCORRECT_GOV_TEST_SCENARIO:
                  description: The request did not match any available Sandbox data. Check that the supplied Gov-Test-Scenario is correct for this endpoint version. This error will only be returned in the Sandbox environment.
                  value: *ref_16
                RULE_EARLY_DATA_SUBMISSION_NOT_ACCEPTED:
                  description: Cannot submit data more than 10 days before end of Period.
                  value:
                    code: RULE_EARLY_DATA_SUBMISSION_NOT_ACCEPTED
                    message: Cannot submit data more than 10 days before end of Period
                RULE_ADVANCE_SUBMISSION_REQUIRES_PERIOD_END_DATE:
                  description: To submit in advance, submission end date must be the end of the period.
                  value:
                    code: RULE_ADVANCE_SUBMISSION_REQUIRES_PERIOD_END_DATE
                    message: For advance submission end date must be the end of the period
                RULE_START_DATE_NOT_ALIGNED_WITH_REPORTING_TYPE:
                  description: Start date does not align to the reporting type.
                  value:
                    code: RULE_START_DATE_NOT_ALIGNED_WITH_REPORTING_TYPE
                    message: Start date does not align to the reporting type
                RULE_START_DATE_NOT_ALIGNED_TO_COMMENCEMENT_DATE:
                  description: Start date does not align to the commencement date.
                  value:
                    code: RULE_START_DATE_NOT_ALIGNED_TO_COMMENCEMENT_DATE
                    message: Start date does not align to the commencement date
                RULE_END_DATE_NOT_ALIGNED_WITH_REPORTING_TYPE:
                  description: End date does not align to the reporting type.
                  value:
                    code: RULE_END_DATE_NOT_ALIGNED_WITH_REPORTING_TYPE
                    message: End date does not align to the reporting type
                RULE_MISSING_SUBMISSION_DATES:
                  description: Submission start/end date not provided.
                  value:
                    code: RULE_MISSING_SUBMISSION_DATES
                    message: Submission start/end date not provided
                RULE_START_AND_END_DATE_NOT_ALLOWED:
                  description: Start/end date not accepted for annual/latent submission.
                  value:
                    code: RULE_START_AND_END_DATE_NOT_ALLOWED
                    message: Start/end date not accepted for annual/latent submission
                RULE_OUTSIDE_AMENDMENT_WINDOW:
                  description: Request cannot be completed as you are outside the amendment window.
                  value: *ref_20
                RULE_SUBMISSION_END_DATE_CANNOT_MOVE_BACKWARDS:
                  description: Submission end date cannot be earlier than existing submission.
                  value:
                    code: RULE_SUBMISSION_END_DATE_CANNOT_MOVE_BACKWARDS
                    message: Submission end date cannot be earlier than existing submission
        '403':
          description: Forbidden
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                CLIENT_OR_AGENT_NOT_AUTHORISED:
                  description: |
                    The client and/or agent is not authorised. This is normally because: the client is not subscribed to MTD, the agent is not subscribed to Agent Services, or the client has not authorised the agent to act on their behalf.
                  value: *ref_17
        '404':
          description: Not Found
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                MATCHING_RESOURCE_NOT_FOUND:
                  description: |
                    The supplied income source could not be found.
                  value: *ref_18
    get:
      summary: Retrieve a Self-Employment Period Summary
      security:
        - User-Restricted:
            - read:self-assessment
      description: |
        This endpoint enables you to retrieve the cumulative period income and expenses for a self-employment business that occurred between two dates.
        A National Insurance number, tax year and business ID are required. <strong>Please note that this endpoint is only available for tax years starting from 2025-26</strong>.

        ### Test data
        Scenario simulation using Gov-Test-Scenario headers is only available in the sandbox environment.

        | Header Value (Gov-Test-Scenario)     | Scenario                                                    |
        |--------------------------------------|-------------------------------------------------------------|
        | N/A - DEFAULT                        | Simulates success response.                                 |
        | CONSOLIDATED_EXPENSES                | Simulates success response with consolidatedExpenses.       |
        | NOT_FOUND                            | Simulates the scenario where no data is found.              |
        | TAX_YEAR_NOT_SUPPORTED               | Simulates the scenario where the tax year is not supported. |
        | STATEFUL                             | Performs a stateful retrieve.                               |
      tags:
        - Self-Employment Cumulative Period Summary
      parameters:
        - name: nino
          in: path
          description: |
            National Insurance number, in the format `AA999999A`
          schema: *ref_6
          required: true
        - name: businessId
          in: path
          description: |
            An identifier for the business, unique to the customer.<p>Must conform to the regular expression `^X[A-Z0-9]{1}IS[0-9]{11}$`
          schema: *ref_7
          required: true
        - name: taxYear
          in: path
          description: |
            The tax year to which the data applies. The start year and end year must not span two tax years.
            The minimum tax year is 2025-26. No gaps are allowed, for example, 2025-27 is not valid.
          schema: *ref_41
          required: true
        - name: Accept
          in: header
          description: |
            Specifies the response format and the version of the API to be used.
          schema: *ref_9
          required: true
        - name: Authorization
          in: header
          description: |
            An OAuth 2.0 Bearer Token with the *read:self-assessment* scope.
          schema: *ref_26
          required: true
        - name: Gov-Test-Scenario
          in: header
          description: |
            Only in sandbox environment. See Test Data table for all header values.
          schema: *ref_10
          required: false
      responses:
        '200':
          description: Success
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                $schema: http://json-schema.org/draft-04/schema#
                title: tax year 2025-26 onwards
                description: Retrieves a self-employment cumulative period summary.
                type: object
                properties:
                  periodDates:
                    $schema: http://json-schema.org/draft-04/schema#
                    type: object
                    description: Object containing the details about self-employment period dates.
                    properties:
                      periodStartDate:
                        description: 'The first day that the income, expenses and deduction period summary covers. Must conform to the format: YYYY-MM-DD'
                        type: string
                        example: '2025-04-06'
                        format: date
                      periodEndDate:
                        description: 'The last day that the income, expenses and deduction period summary covers. Must conform to the format: YYYY-MM-DD'
                        type: string
                        example: '2025-07-05'
                        format: date
                    additionalProperties: false
                    required:
                      - periodStartDate
                      - periodEndDate
                  periodIncome:
                    $schema: http://json-schema.org/draft-04/schema#
                    type: object
                    description: Object containing the details about self-employment income.
                    properties:
                      turnover:
                        description: The takings, fees, sales or money earned by the business. Income associated with the running of the business. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                        type: number
                        multipleOf: 0.01
                        minimum: 0
                        maximum: 99999999999.99
                        example: 10000
                      other:
                        type: number
                        description: Any other business income not included in turnover. Income associated with the running of the business. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                        multipleOf: 0.01
                        minimum: 0
                        maximum: 99999999999.99
                        example: 10000
                      taxTakenOffTradingIncome:
                        type: number
                        description: Other tax taken off trading income apart from CIS deductions. The value must be between 0 and 99999999999.99 up to 2 decimal places.
                        multipleOf: 0.01
                        minimum: 0
                        maximum: 99999999999.99
                        example: 10000
                    additionalProperties: false
                  periodExpenses:
                    $schema: http://json-schema.org/draft-04/schema#
                    type: object
                    description: Object containing the details about self-employment expenses.
                    properties:
                      consolidatedExpenses:
                        type: number
                        description: The sum of all allowable expenses for the specified period. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                        multipleOf: 0.01
                        minimum: -99999999999.99
                        maximum: 99999999999.99
                        example: 10000
                      costOfGoods:
                        type: number
                        description: Cost of goods bought for resale or goods used. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                        multipleOf: 0.01
                        minimum: -99999999999.99
                        maximum: 99999999999.99
                        example: 10000
                      paymentsToSubcontractors:
                        type: number
                        description: Payments to construction industry subcontractors. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                        multipleOf: 0.01
                        minimum: -99999999999.99
                        maximum: 99999999999.99
                        example: 10000
                      wagesAndStaffCosts:
                        type: number
                        description: Wages, salaries and other staff costs. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                        multipleOf: 0.01
                        minimum: -99999999999.99
                        maximum: 99999999999.99
                        example: 10000
                      carVanTravelExpenses:
                        type: number
                        description: Car, van and travel expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                        multipleOf: 0.01
                        minimum: -99999999999.99
                        maximum: 99999999999.99
                        example: 10000.89
                      premisesRunningCosts:
                        type: number
                        description: Rent, rates, power and insurance costs. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                        multipleOf: 0.01
                        minimum: -99999999999.99
                        maximum: 99999999999.99
                        example: 10000.89
                      maintenanceCosts:
                        type: number
                        description: Repairs and renewals of property and equipment. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                        multipleOf: 0.01
                        minimum: -99999999999.99
                        maximum: 99999999999.99
                        example: 10000.89
                      adminCosts:
                        type: number
                        description: Phone, fax, stationery and other office costs. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                        multipleOf: 0.01
                        minimum: -99999999999.99
                        maximum: 99999999999.99
                        example: 10000.89
                      businessEntertainmentCosts:
                        type: number
                        description: Business entertainment costs. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                        multipleOf: 0.01
                        minimum: -99999999999.99
                        maximum: 99999999999.99
                        example: 10000.89
                      advertisingCosts:
                        type: number
                        description: Advertising costs. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                        multipleOf: 0.01
                        minimum: -99999999999.99
                        maximum: 99999999999.99
                        example: 10000.89
                      interestOnBankOtherLoans:
                        type: number
                        description: Interest on bank and other loans. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                        multipleOf: 0.01
                        minimum: -99999999999.99
                        maximum: 99999999999.99
                        example: 10000.89
                      financeCharges:
                        type: number
                        description: Bank, credit card and other financial charges. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                        multipleOf: 0.01
                        minimum: -99999999999.99
                        maximum: 99999999999.99
                        example: 10000.89
                      irrecoverableDebts:
                        type: number
                        description: Irrecoverable debts written off. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                        multipleOf: 0.01
                        minimum: -99999999999.99
                        maximum: 99999999999.99
                        example: 10000.89
                      professionalFees:
                        type: number
                        description: Accountancy, legal and other professional fees. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                        multipleOf: 0.01
                        minimum: -99999999999.99
                        maximum: 99999999999.99
                        example: 10000.89
                      depreciation:
                        type: number
                        description: Depreciation and loss/profit on sales of assets. Expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                        multipleOf: 0.01
                        minimum: -99999999999.99
                        maximum: 99999999999.99
                        example: 10000.89
                      otherExpenses:
                        type: number
                        description: Other business expenses associated with the running of the business. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                        multipleOf: 0.01
                        minimum: -99999999999.99
                        maximum: 99999999999.99
                        example: 10000.89
                    additionalProperties: false
                  periodDisallowableExpenses:
                    $schema: http://json-schema.org/draft-04/schema#
                    type: object
                    description: Object containing the details about self-employment disallowable expenses, that cannot be claimed for tax purposes.
                    properties:
                      costOfGoodsDisallowable:
                        type: number
                        description: Cost of goods bought for resale or goods used. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                        multipleOf: 0.01
                        minimum: -99999999999.99
                        maximum: 99999999999.99
                        example: 10000.89
                      paymentsToSubcontractorsDisallowable:
                        type: number
                        description: Payments to subcontractors - Construction Industry Scheme (CIS). Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                        multipleOf: 0.01
                        minimum: -99999999999.99
                        maximum: 99999999999.99
                        example: 10000.89
                      wagesAndStaffCostsDisallowable:
                        type: number
                        description: Wages, salaries and other staff costs. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                        multipleOf: 0.01
                        minimum: -99999999999.99
                        maximum: 99999999999.99
                        example: 10000.89
                      carVanTravelExpensesDisallowable:
                        type: number
                        description: Car, van and travel expenses. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                        multipleOf: 0.01
                        minimum: -99999999999.99
                        maximum: 99999999999.99
                        example: 10000.89
                      premisesRunningCostsDisallowable:
                        type: number
                        description: Rent, rates, power and insurance costs. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                        multipleOf: 0.01
                        minimum: -99999999999.99
                        maximum: 99999999999.99
                        example: 10000.89
                      maintenanceCostsDisallowable:
                        type: number
                        description: Repairs and renewals of property and equipment. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                        multipleOf: 0.01
                        minimum: -99999999999.99
                        maximum: 99999999999.99
                        example: 10000.89
                      adminCostsDisallowable:
                        type: number
                        description: Phone, fax, stationery and other office costs. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                        multipleOf: 0.01
                        minimum: -99999999999.99
                        maximum: 99999999999.99
                        example: 10000.89
                      businessEntertainmentCostsDisallowable:
                        type: number
                        description: Business entertainment costs. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                        multipleOf: 0.01
                        minimum: -99999999999.99
                        maximum: 99999999999.99
                        example: 10000.89
                      advertisingCostsDisallowable:
                        type: number
                        description: Advertising costs. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                        multipleOf: 0.01
                        minimum: -99999999999.99
                        maximum: 99999999999.99
                        example: 10000.89
                      interestOnBankOtherLoansDisallowable:
                        type: number
                        description: Interest on bank and other loans. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                        multipleOf: 0.01
                        minimum: -99999999999.99
                        maximum: 99999999999.99
                        example: 10000.89
                      financeChargesDisallowable:
                        type: number
                        description: Bank, credit card and other financial charges. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                        multipleOf: 0.01
                        minimum: -99999999999.99
                        maximum: 99999999999.99
                        example: 10000.89
                      irrecoverableDebtsDisallowable:
                        type: number
                        description: Irrecoverable debts written off. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                        multipleOf: 0.01
                        minimum: -99999999999.99
                        maximum: 99999999999.99
                        example: 10000.89
                      professionalFeesDisallowable:
                        type: number
                        description: Legal and other professional fees. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                        multipleOf: 0.01
                        minimum: -99999999999.99
                        maximum: 99999999999.99
                        example: 10000.89
                      depreciationDisallowable:
                        type: number
                        description: Depreciation and loss/profit on sales of assets. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                        multipleOf: 0.01
                        minimum: -99999999999.99
                        maximum: 99999999999.99
                        example: 10000.89
                      otherExpensesDisallowable:
                        type: number
                        description: Other business expenses. Any expense or partial expense that cannot be claimed for tax purposes. The value must be between -99999999999.99 and 99999999999.99 up to 2 decimal places.
                        multipleOf: 0.01
                        minimum: -99999999999.99
                        maximum: 99999999999.99
                        example: 10000.89
                    additionalProperties: false
                required:
                  - periodDates
                additionalProperties: false
              examples:
                Non-consolidated response:
                  value:
                    periodDates:
                      periodStartDate: '2025-04-06'
                      periodEndDate: '2025-07-05'
                    periodIncome:
                      turnover: 200
                      other: 200
                      taxTakenOffTradingIncome: 1000.99
                    periodExpenses:
                      costOfGoods: 200
                      paymentsToSubcontractors: 200
                      wagesAndStaffCosts: 200
                      carVanTravelExpenses: 200
                      premisesRunningCosts: 200
                      maintenanceCosts: 200
                      adminCosts: 200
                      businessEntertainmentCosts: 200
                      advertisingCosts: 200
                      interestOnBankOtherLoans: 200
                      financeCharges: 200
                      irrecoverableDebts: 200
                      professionalFees: 200
                      depreciation: 200
                      otherExpenses: 200
                    periodDisallowableExpenses:
                      costOfGoodsDisallowable: 200
                      paymentsToSubcontractorsDisallowable: 200
                      wagesAndStaffCostsDisallowable: 200
                      carVanTravelExpensesDisallowable: 200
                      premisesRunningCostsDisallowable: 200
                      maintenanceCostsDisallowable: 200
                      adminCostsDisallowable: 200
                      businessEntertainmentCostsDisallowable: 200
                      advertisingCostsDisallowable: 200
                      interestOnBankOtherLoansDisallowable: 200
                      financeChargesDisallowable: 200
                      irrecoverableDebtsDisallowable: 200
                      professionalFeesDisallowable: 200
                      depreciationDisallowable: 200
                      otherExpensesDisallowable: 200
                Consolidated response:
                  value:
                    periodDates:
                      periodStartDate: '2025-04-06'
                      periodEndDate: '2025-07-05'
                    periodIncome:
                      turnover: 200
                      other: 200
                      taxTakenOffTradingIncome: 1000.99
                    periodExpenses:
                      consolidatedExpenses: 200
        '400':
          description: Bad request
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                FORMAT_NINO:
                  description: The format of the supplied NINO field is not valid.
                  value: *ref_11
                FORMAT_TAX_YEAR:
                  description: The format of the supplied taxYear field is not valid.
                  value: *ref_12
                FORMAT_BUSINESS_ID:
                  description: The format of the supplied Business ID field is not valid.
                  value: *ref_13
                RULE_TAX_YEAR_NOT_SUPPORTED:
                  description: |
                    The specified tax year is not supported.
                    Either the tax year specified is before the minimum tax year value,
                    or it is after the maximum tax year value.
                  value: *ref_14
                RULE_TAX_YEAR_RANGE_INVALID:
                  description: Tax year range invalid. A tax year range of one year is required.
                  value: *ref_15
                RULE_INCORRECT_GOV_TEST_SCENARIO:
                  description: The request did not match any available Sandbox data. Check that the supplied Gov-Test-Scenario is correct for this endpoint version. This error will only be returned in the Sandbox environment.
                  value: *ref_16
        '403':
          description: Forbidden
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                CLIENT_OR_AGENT_NOT_AUTHORISED:
                  description: |
                    The client and/or agent is not authorised. This is normally because: the client is not subscribed to MTD, the agent is not subscribed to Agent Services, or the client has not authorised the agent to act on their behalf.
                  value: *ref_17
        '404':
          description: Not Found
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                MATCHING_RESOURCE_NOT_FOUND:
                  description: |
                    The supplied income source could not be found.
                  value: *ref_18
components:
  securitySchemes:
    User-Restricted:
      type: oauth2
      description: HMRC supports OAuth 2.0 for authenticating [User-restricted](https://developer.service.hmrc.gov.uk/api-documentation/docs/authorisation/user-restricted-endpoints) API requests
      flows:
        authorizationCode:
          authorizationUrl: https://api.service.hmrc.gov.uk/oauth/authorize
          tokenUrl: https://api.service.hmrc.gov.uk/oauth/token
          refreshUrl: https://api.service.hmrc.gov.uk/oauth/refresh
          scopes:
            write:self-assessment: Grant write access
            read:self-assessment: Grant read access
